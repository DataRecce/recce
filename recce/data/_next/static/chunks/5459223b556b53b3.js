(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,130209,e=>{"use strict";var t=e.i(187725),i=e.i(599973),n=e.i(889747),s=e.i(279743),r=e.i(204039),o=class extends s.Subscribable{#e;#t=void 0;#i;#n;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#s()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,r.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#i,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,r.hashKey)(t.mutationKey)!==(0,r.hashKey)(this.options.mutationKey)?this.reset():this.#i?.state.status==="pending"&&this.#i.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#i?.removeObserver(this)}onMutationUpdate(e){this.#s(),this.#r(e)}getCurrentResult(){return this.#t}reset(){this.#i?.removeObserver(this),this.#i=void 0,this.#s(),this.#r()}mutate(e,t){return this.#n=t,this.#i?.removeObserver(this),this.#i=this.#e.getMutationCache().build(this.#e,this.options),this.#i.addObserver(this),this.#i.execute(e)}#s(){let e=this.#i?.state??(0,i.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#r(e){n.notifyManager.batch(()=>{if(this.#n&&this.hasListeners()){let t=this.#t.variables,i=this.#t.context,n={client:this.#e,meta:this.options.meta,mutationKey:this.options.mutationKey};e?.type==="success"?(this.#n.onSuccess?.(e.data,t,i,n),this.#n.onSettled?.(e.data,null,t,i,n)):e?.type==="error"&&(this.#n.onError?.(e.error,t,i,n),this.#n.onSettled?.(void 0,e.error,t,i,n))}this.listeners.forEach(e=>{e(this.#t)})})}},a=e.i(63257);function l(e,i){let s=(0,a.useQueryClient)(i),[l]=t.useState(()=>new o(s,e));t.useEffect(()=>{l.setOptions(e)},[l,e]);let u=t.useSyncExternalStore(t.useCallback(e=>l.subscribe(n.notifyManager.batchCalls(e)),[l]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),c=t.useCallback((e,t)=>{l.mutate(e,t).catch(r.noop)},[l]);if(u.error&&(0,r.shouldThrowError)(l.options.throwOnError,[u.error]))throw u.error;return{...u,mutate:c,mutateAsync:u.mutate}}e.s(["useMutation",()=>l],130209)},913369,e=>{"use strict";var t=e.i(19483),i=e.i(187725);e.i(715841);var n=e.i(667828),s=e.i(489622),r=e.i(61109),o=e.i(911288),a=e.i(180806);function l({children:e,display:l}){let[u,c]=(0,i.useState)(!1),d=(0,i.useRef)(null),h=(0,i.useRef)(null),x=(0,i.useCallback)(()=>{d.current&&(clearTimeout(d.current),d.current=null),c(!0)},[]),m=(0,i.useCallback)(()=>{d.current=setTimeout(()=>{c(!1)},100)},[]);return l?(0,t.jsxs)(r.Popover.Root,{open:u,onFocusOutside:()=>{c(!1)},positioning:{getAnchorRect:()=>h.current?.getBoundingClientRect()??null},lazyMount:!0,unmountOnExit:!0,size:"xs",autoFocus:!1,children:[(0,t.jsx)(r.Popover.Trigger,{asChild:!0,children:(0,t.jsx)(n.Box,{ref:h,onMouseEnter:x,onMouseLeave:m,display:"contents",children:e})}),(0,t.jsx)(o.Portal,{children:(0,t.jsx)(r.Popover.Positioner,{children:(0,t.jsx)(r.Popover.Content,{bg:"gray.600",color:"white",zIndex:"popover",width:"auto",onMouseEnter:x,onMouseLeave:m,children:(0,t.jsxs)(r.Popover.Body,{children:["Connect to a data warehouse to unlock Diff."," ",(0,t.jsx)(s.Link,{href:a.RECCE_SUPPORT_CALENDAR_URL,color:"white",target:"_blank",textDecoration:"underline",children:"Learn more"}),"."]})})})})]}):e}e.s(["default",()=>l])},42409,e=>{"use strict";var t=e.i(955343);function i(e){return(0,t.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 16L6 10H18L12 16Z"},child:[]}]})(e)}function n(e){return(0,t.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 8L18 14H6L12 8Z"},child:[]}]})(e)}function s(e){return(0,t.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M3 3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3ZM4 5V19H20V5H4ZM12 15H18V17H12V15ZM8.66685 12L5.83842 9.17157L7.25264 7.75736L11.4953 12L7.25264 16.2426L5.83842 14.8284L8.66685 12Z"},child:[]}]})(e)}function r(e){return(0,t.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18 3C19.6569 3 21 4.34315 21 6C21 7.65685 19.6569 9 18 9H15C13.6941 9 12.5831 8.16562 12.171 7.0009L11 7C9.9 7 9 7.9 9 9L9.0009 9.17102C10.1656 9.58312 11 10.6941 11 12C11 13.3059 10.1656 14.4169 9.0009 14.829L9 15C9 16.1 9.9 17 11 17L12.1707 17.0001C12.5825 15.8349 13.6937 15 15 15H18C19.6569 15 21 16.3431 21 18C21 19.6569 19.6569 21 18 21H15C13.6941 21 12.5831 20.1656 12.171 19.0009L11 19C8.79 19 7 17.21 7 15H5C3.34315 15 2 13.6569 2 12C2 10.3431 3.34315 9 5 9H7C7 6.79086 8.79086 5 11 5L12.1707 5.00009C12.5825 3.83485 13.6937 3 15 3H18ZM18 17H15C14.4477 17 14 17.4477 14 18C14 18.5523 14.4477 19 15 19H18C18.5523 19 19 18.5523 19 18C19 17.4477 18.5523 17 18 17ZM8 11H5C4.44772 11 4 11.4477 4 12C4 12.5523 4.44772 13 5 13H8C8.55228 13 9 12.5523 9 12C9 11.4477 8.55228 11 8 11ZM18 5H15C14.4477 5 14 5.44772 14 6C14 6.55228 14.4477 7 15 7H18C18.5523 7 19 6.55228 19 6C19 5.44772 18.5523 5 18 5Z"},child:[]}]})(e)}function o(e){return(0,t.GenIcon)({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12.0049 22.0027C6.48204 22.0027 2.00488 17.5256 2.00488 12.0027C2.00488 6.4799 6.48204 2.00275 12.0049 2.00275C17.5277 2.00275 22.0049 6.4799 22.0049 12.0027C22.0049 17.5256 17.5277 22.0027 12.0049 22.0027ZM12.0049 20.0027C16.4232 20.0027 20.0049 16.421 20.0049 12.0027C20.0049 7.58447 16.4232 4.00275 12.0049 4.00275C7.5866 4.00275 4.00488 7.58447 4.00488 12.0027C4.00488 16.421 7.5866 20.0027 12.0049 20.0027ZM7.00488 9.00275L10.0049 5.50275L13.0049 9.00275H11.0049V13.0027H9.00488V9.00275H7.00488ZM17.0049 15.0027L14.0049 18.5027L11.0049 15.0027H13.0049V11.0027H15.0049V15.0027H17.0049Z"},child:[]}]})(e)}e.s(["RiArrowDownSFill",()=>i,"RiArrowUpSFill",()=>n,"RiMindMap",()=>r,"RiSwapLine",()=>o,"RiTerminalBoxLine",()=>s])},2936,507524,e=>{"use strict";var t=e.i(19483),i=e.i(224378);e.i(715841);var n=e.i(667828),s=e.i(415790),r=e.i(203158),o=e.i(29134);function a(){let{isHistoryOpen:e,showHistory:a}=(0,o.useRecceActionContext)();if(!e)return(0,t.jsxs)(n.Box,{children:[(0,t.jsx)(n.Box,{sx:{fontSize:"8pt"},children:"History"}),(0,t.jsx)(s.Button,{size:"xs",variant:"outlined",startIcon:(0,t.jsx)(i.VscHistory,{}),onClick:()=>{(0,r.trackHistoryAction)({name:e?"hide":"show"}),a()},children:"Show"})]})}e.s(["default",()=>a],2936);var l=e.i(461566);async function u(e,t){return await (0,l.submitRun)("query",e,t)}async function c(e,t){return await (0,l.submitRun)("query_base",e,t)}async function d(e,t){return await (0,l.submitRun)("query_diff",e,t)}e.s(["submitQuery",()=>u,"submitQueryBase",()=>c,"submitQueryDiff",()=>d],507524)},182809,373921,e=>{"use strict";var t=e.i(19483),i=e.i(187725),n=e.i(388797);e.i(715841);var s=e.i(54994),r=e.i(625961);e.i(134115);var o=e.i(940999),a=e.i(916955),l=e.i(228337),u=e.i(667828),c=e.i(415790),d=e.i(885411),h=e.i(665062),x=e.i(601272),m=e.i(911288),p=e.i(100377),f=e.i(284791);let g=e=>{let{defaultValues:n,suggestionList:s,onValuesChange:r,className:a}=e,[g,C]=(0,i.useState)(n??[]),[j,b]=(0,i.useState)(""),[y,v]=(0,i.useState)(!1),w=(0,i.useRef)(null),M=e=>{g.includes(e)||(b(""),C([...g,e]),r([...g,e]))},R=j.toLowerCase(),L=s?.filter(e=>""===R||e.toLowerCase().includes(R)).filter(e=>!g.includes(e))??[],S=g.length>0?(0,t.jsx)(c.Button,{size:"2xs",variant:"ghost",color:"#3182CE",fontSize:e.size,paddingTop:"0",me:-2,onClick:()=>{b(""),C([]),r([])},children:"Clear"}):void 0;return(0,t.jsx)(h.InputGroup,{width:e.width,className:a,endElement:S,children:(0,t.jsxs)(x.Menu.Root,{size:"sm",lazyMount:!0,closeOnSelect:!1,onOpenChange:()=>w.current?.focus(),children:[(0,t.jsx)(x.Menu.Trigger,{asChild:!0,children:(0,t.jsx)(c.Button,{width:"100%",size:"2xs",colorPalette:"neutral",variant:"outline",justifyContent:"flex-start",children:g.length>1?`${g.length} ${e.unitName}s selected`:1===g.length?g[0]:""})}),(0,t.jsx)(m.Portal,{children:(0,t.jsx)(x.Menu.Positioner,{children:(0,t.jsxs)(x.Menu.Content,{zIndex:"popover",fontSize:e.size,width:e.width,className:"no-track-pii-safe",children:[(0,t.jsx)(x.Menu.ItemGroup,{children:(0,t.jsxs)(f.Wrap,{border:"1px solid #e2e8f0",borderRadius:"4px",width:"calc(100% - 8px)",marginX:"4px",padding:"4px",children:[g.map(i=>(0,t.jsx)(f.WrapItem,{children:(0,t.jsxs)(p.Tag.Root,{paddingX:"0.5rem",size:"sm"===e.size||"md"===e.size||"lg"===e.size?e.size:"md",children:[(0,t.jsx)(p.Tag.Label,{children:i}),(0,t.jsx)(p.Tag.EndElement,{children:(0,t.jsx)(p.Tag.CloseTrigger,{onClick:()=>{C(g.filter(e=>e!==i)),r(g.filter(e=>e!==i))}})})]},i)},i)),(0,t.jsx)(f.WrapItem,{width:"100%",children:(0,t.jsx)(d.Input,{ref:w,placeholder:"Filter or add custom keys",variant:"subtle",size:e.size,value:j,onChange:e=>{b(e.target.value),v(!0)},onKeyDown:e=>{let t=e.target,i=t.value.trim().replace(",","");switch(e.key){case",":case"Enter":M(i),b("");break;case"Backspace":""===t.value&&g.length>0&&(C(g.slice(0,-1)),r(g.slice(0,-1)))}},onBlur:()=>{w.current&&y&&w.current.focus()}})})]})}),(0,t.jsx)(x.Menu.Separator,{}),(0,t.jsxs)(x.Menu.ItemGroup,{children:[""!==j&&!s?.includes(j)&&(0,t.jsxs)(x.Menu.Item,{value:"custom-value-by-filter",onClick:()=>{M(j),v(!1)},children:["Add '",j,"' to the list"]},"custom-value-by-filter"),L.map((e,i)=>(0,t.jsx)(x.Menu.Item,{value:`option-${i}`,onClick:()=>{M(e)},children:e},l.default.uniqueId(`option-${i}`))).slice(0,10),L.length>10&&(0,t.jsx)(o.Tooltip,{content:"Please use filter to find more items",positioning:{placement:"top"},children:(0,t.jsxs)(u.Box,{px:"12px",color:"gray",fontSize:"8pt",children:["and ",L.length-10," more items..."]})})]})]})})})]})})};e.s(["QueryForm",0,({defaultPrimaryKeys:e,onPrimaryKeysChange:l,...u})=>{let{lineageGraph:c,isActionAvailable:d}=(0,a.useLineageGraphContext)(),h=(0,i.useMemo)(()=>{if(!c)return[];let e=new Set;for(let t in c.nodes){let i=c.nodes[t];Object.entries({...i.data.data.base?.columns??{},...i.data.data.current?.columns??{}}).forEach(([t,i])=>{i?.unique&&e.add(t)})}return Array.from(e).sort()},[c]);return(0,t.jsx)(r.Flex,{...u,children:(0,t.jsxs)(s.Field.Root,{m:"0 0.5rem",gap:0,children:[(0,t.jsxs)(s.Field.Label,{fontSize:"0.625rem",margin:0,children:["Diff with Primary Key(s) (suggested)"," ",(0,t.jsx)(o.Tooltip,{content:"Provide a primary key to perform query diff in data warehouse and only return changed rows.",positioning:{placement:"bottom-end"},children:(0,t.jsx)(n.PiInfo,{color:"gray.600"})})]}),(0,t.jsx)(g,{className:"no-track-pii-safe",unitName:"key",defaultValues:e,suggestionList:h,onValuesChange:l,size:"2xs",width:"240px",placeholder:"Select or type to add keys",disabled:!d("query_diff_with_primary_key")})]})})}],182809);var C=e.i(180806);function j(e){return e?.organization_name&&e.web_url?`${e.web_url}/organizations/${e.organization_name}/settings`:C.RECCE_SUPPORT_CALENDAR_URL}e.s(["getSettingsUrl",()=>j],373921)},783586,e=>{"use strict";var t=e.i(19483),i=e.i(42409);e.i(715841);var n=e.i(415790),s=e.i(625961),r=e.i(218031),o=e.i(731645),a=e.i(489622),l=e.i(315324),u=e.i(255677);function c(){return(0,t.jsx)(s.Flex,{flex:"1",h:"100%",minH:0,m:"2",p:"4",bg:"iochmara.50",borderRadius:"lg",boxShadow:"md",justifyContent:"center",children:(0,t.jsxs)(s.Flex,{w:"80%",direction:"column",overflowY:"auto",gap:6,px:8,pb:8,children:[(0,t.jsxs)(s.Flex,{direction:"column",alignItems:"center",gap:4,children:[(0,t.jsx)(s.Flex,{p:2,bg:"white",borderRadius:"full",alignItems:"center",justifyContent:"center",boxShadow:"md",children:(0,t.jsx)(o.Icon,{as:i.RiTerminalBoxLine,boxSize:7,color:"iochmara.500"})}),(0,t.jsx)(r.Heading,{mt:"4",size:"lg",children:"Wait, there's more!"}),(0,t.jsxs)(u.Text,{fontSize:"md",textAlign:"center",children:["Recce is currently running in"," ",(0,t.jsx)(u.Text,{fontWeight:"bold",as:"span",children:"limited functionality mode"})," ","so you can run queries but"," ",(0,t.jsx)(u.Text,{fontWeight:"bold",as:"span",children:"can't diff the results yet!"})]})]}),(0,t.jsxs)(s.Flex,{direction:"column",gap:2,children:[(0,t.jsx)(u.Text,{fontSize:"md",children:"To unlock the full power of Recce, set up a base environment of dbt artifacts for comparison."}),(0,t.jsx)(u.Text,{children:"Once configured, you'll be able to:"}),(0,t.jsxs)(l.List.Root,{children:[(0,t.jsx)(l.List.Item,{children:(0,t.jsx)(u.Text,{children:"Run statistical data diffs"})}),(0,t.jsx)(l.List.Item,{children:(0,t.jsx)(u.Text,{children:"Run query diffs"})}),(0,t.jsx)(l.List.Item,{children:(0,t.jsx)(u.Text,{children:"Save checks to your Recce Checklist"})}),(0,t.jsx)(l.List.Item,{children:(0,t.jsx)(u.Text,{children:"...and more!"})})]}),(0,t.jsx)(u.Text,{fontSize:"md",children:"Take the next step toward better data impact assessment."})]}),(0,t.jsx)(s.Flex,{w:"100%",direction:"column",mt:6,children:(0,t.jsx)(n.Button,{colorPalette:"iochmara",size:"lg",onClick:()=>{window.open("https://docs.datarecce.io/get-started/#prepare-dbt-artifacts","_blank")},children:"Start Now"})})]})})}function d(){return(0,t.jsxs)(s.Flex,{direction:"row",gap:"10px",alignItems:"flex-start",children:[(0,t.jsx)(o.Icon,{as:i.RiMindMap,color:"iochmara.500",boxSize:"5"}),(0,t.jsxs)(s.Flex,{direction:"column",gap:"5px",children:[(0,t.jsxs)(u.Text,{fontWeight:"bold",children:["Single Environment Mode"," ",(0,t.jsx)(u.Text,{color:"red",as:"span",children:"Limited Functionality"})]}),(0,t.jsx)(u.Text,{fontSize:"sm",children:"Single Environment Mode allows you to explore your dbt project but won't show data comparisons between environments."}),(0,t.jsx)(u.Text,{fontSize:"sm",children:"To set up full environment comparison:"}),(0,t.jsxs)(l.List.Root,{ps:"4",children:[(0,t.jsx)(l.List.Item,{children:(0,t.jsx)(u.Text,{fontSize:"sm",children:"Run `recce debug` for setup assistance"})}),(0,t.jsx)(l.List.Item,{children:(0,t.jsxs)(u.Text,{fontSize:"sm",children:["Visit"," ",(0,t.jsx)(a.Link,{color:"primary",fontSize:"sm",fontWeight:"medium",target:"_blank",href:"https://docs.datarecce.io/configure-diff/",children:"docs"})," ","for configuration details"]})})]})]})]})}e.s(["BaseEnvironmentSetupGuide",()=>c,"BaseEnvironmentSetupNotification",()=>d])}]);