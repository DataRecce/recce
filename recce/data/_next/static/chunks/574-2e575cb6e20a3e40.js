(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[574],{6297:(e,n,l)=>{"use strict";l.d(n,{g:()=>s,x:()=>i});var t=l(78085),r=l(14660),a=l(86518);let s=t.A.create({baseURL:r.V}),i=new a.E},8399:(e,n,l)=>{"use strict";l.d(n,{FS:()=>i,GI:()=>o,G_:()=>u,Th:()=>s,gY:()=>a,nU:()=>r});var t=l(47299);let r=e=>(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("g",{clipPath:"url(#clip0_1479_25070)",children:(0,t.jsx)("path",{d:"M15.625 0.25H14.759C14.5484 0.25 14.3791 0.423375 14.3841 0.633937L14.4575 3.71441C13.0691 1.62634 10.6955 0.25 8 0.25C4.21291 0.25 1.06041 2.96638 0.38425 6.557C0.340875 6.78728 0.518875 7 0.753219 7H1.64622C1.82353 7 1.97566 6.87556 2.013 6.70222C2.60753 3.9415 5.05991 1.875 8 1.875C10.4858 1.875 12.6232 3.35256 13.5836 5.47819L9.63394 5.38416C9.42341 5.37916 9.25 5.54844 9.25 5.75906V6.625C9.25 6.83209 9.41791 7 9.625 7H15.625C15.8321 7 16 6.83209 16 6.625V0.625C16 0.417906 15.8321 0.25 15.625 0.25ZM15.2468 9H14.3538C14.1765 9 14.0243 9.12444 13.987 9.29778C13.3925 12.0585 10.9401 14.125 8 14.125C5.51419 14.125 3.37681 12.6474 2.41637 10.5218L6.36606 10.6158C6.57659 10.6208 6.75 10.4516 6.75 10.2409V9.375C6.75 9.16791 6.58209 9 6.375 9H0.375C0.167906 9 0 9.16791 0 9.375V15.375C0 15.5821 0.167906 15.75 0.375 15.75H1.24097C1.45156 15.75 1.62088 15.5766 1.61588 15.3661L1.54253 12.2856C2.93087 14.3737 5.3045 15.75 8 15.75C11.7871 15.75 14.9396 13.0336 15.6158 9.443C15.6591 9.21272 15.4811 9 15.2468 9Z",fill:"currentColor"})}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_1479_25070",children:(0,t.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]}),a=e=>(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("g",{clipPath:"url(#clip0_1479_25102)",children:(0,t.jsx)("path",{d:"M-1.88399 8.72062L0.358816 6.46094C0.594752 6.22344 1.00006 6.39031 1.00006 6.725V8.2525H4.00005V4.12438C4.00005 3.7275 4.16161 3.34313 4.44286 3.06219L7.06441 0.440625C7.34566 0.159375 7.72691 0 8.12347 0H14.5003C15.3281 0.003125 16 0.675 16 1.50281V14.5003C16 15.3281 15.3281 16 14.5003 16H5.50223C4.67411 16 4.00005 15.3281 4.00005 14.5003V11.2522H5.50005V14.5003H14.5003V1.50281H9.50128V4.75219C9.50128 5.16781 9.1669 5.50187 8.75128 5.50187H5.50005V8.25219H10.625C10.8322 8.25219 11 8.42 11 8.62719V9.37719C11 9.58438 10.8322 9.75219 10.625 9.75219H1.00006V11.2797C1.00006 11.6144 0.594752 11.7813 0.358816 11.5438L-1.88399 9.28406C-2.03867 9.12813 -2.03867 8.87656 -1.88399 8.72062ZM8.0016 4.00219V1.62469L5.62379 4.00219H8.0016Z",fill:"currentColor"})}),(0,t.jsx)("g",{clipPath:"url(#clip1_1479_25102)",children:(0,t.jsx)("path",{d:"M0.103056 8.72062L2.09667 6.46094C2.30639 6.22344 2.66667 6.39031 2.66667 6.725V8.2525H5.33333V4.12438C5.33333 3.7275 5.47694 3.34313 5.72694 3.06219L8.05722 0.440625C8.30722 0.159375 8.64611 0 8.99861 0H14.6669C15.4028 0.003125 16 0.675 16 1.50281V14.5003C16 15.3281 15.4028 16 14.6669 16H6.66861C5.9325 16 5.33333 15.3281 5.33333 14.5003V11.2522H6.66667V14.5003H14.6669V1.50281H10.2233V4.75219C10.2233 5.16781 9.92611 5.50187 9.55667 5.50187H6.66667V8.25219H11.2222C11.4064 8.25219 11.5556 8.42 11.5556 8.62719V9.37719C11.5556 9.58438 11.4064 9.75219 11.2222 9.75219H2.66667V11.2797C2.66667 11.6144 2.30639 11.7813 2.09667 11.5438L0.103056 9.28406C-0.0344448 9.12813 -0.0344448 8.87656 0.103056 8.72062ZM8.89028 4.00219V1.62469L6.77666 4.00219H8.89028Z",fill:"currentColor"})}),(0,t.jsxs)("defs",{children:[(0,t.jsx)("clipPath",{id:"clip0_1479_25102",children:(0,t.jsx)("rect",{width:"13",height:"16",fill:"white",transform:"matrix(-1 0 0 1 16 0)"})}),(0,t.jsx)("clipPath",{id:"clip1_1479_25102",children:(0,t.jsx)("rect",{width:"3",height:"16",fill:"white"})})]})]}),s=e=>(0,t.jsxs)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,t.jsx)("g",{clipPath:"url(#clip0_1426_8619)",children:(0,t.jsx)("path",{d:"M15.5572 3.06188L12.9356 0.440625C12.6544 0.159375 12.2731 0 11.8766 0H5.49969C4.67188 0.003125 4 0.675 4 1.50281V8.25219H0.375C0.167812 8.25219 0 8.42 0 8.62719V9.37719C0 9.58438 0.167812 9.75219 0.375 9.75219H9V11.2797C9 11.6144 9.40531 11.7812 9.64125 11.5437L11.8841 9.28406C12.0388 9.12813 12.0388 8.87656 11.8841 8.72062L9.64125 6.46094C9.40531 6.22344 9 6.39031 9 6.725V8.2525H5.49969V1.50281H10.4987V4.75219C10.4987 5.16781 10.8331 5.50187 11.2487 5.50187H14.5V14.5003H5.49969V11.2522H4V14.5003C4 15.3281 4.67188 16 5.49969 16H14.4978C15.3259 16 16 15.3281 16 14.5003V4.12406C16 3.7275 15.8384 3.34313 15.5572 3.06188ZM11.9984 4.00219V1.62469L14.3763 4.00219H11.9984Z",fill:"black"})}),(0,t.jsx)("defs",{children:(0,t.jsx)("clipPath",{id:"clip0_1426_8619",children:(0,t.jsx)("rect",{width:"16",height:"16",fill:"white"})})})]}),i=e=>(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,t.jsx)("path",{d:"M14.5607 4.06066L11.9393 1.43934C11.658 1.15804 11.2765 1 10.8787 1H2.5C1.67156 1 1 1.67156 1 2.5V13.5C1 14.3284 1.67156 15 2.5 15H13.5C14.3284 15 15 14.3284 15 13.5V5.12131C15 4.72349 14.842 4.34196 14.5607 4.06066ZM9.5 2.5V5H5.5V2.5H9.5ZM13.3125 13.5H2.6875C2.63777 13.5 2.59008 13.4802 2.55492 13.4451C2.51975 13.4099 2.5 13.3622 2.5 13.3125V2.6875C2.5 2.63777 2.51975 2.59008 2.55492 2.55492C2.59008 2.51975 2.63777 2.5 2.6875 2.5H4V5.75C4 6.16422 4.33578 6.5 4.75 6.5H10.25C10.6642 6.5 11 6.16422 11 5.75V2.62131L13.4451 5.06641C13.4625 5.08382 13.4763 5.10449 13.4857 5.12724C13.4952 5.14999 13.5 5.17438 13.5 5.199V13.3125C13.5 13.3622 13.4802 13.4099 13.4451 13.4451C13.4099 13.4802 13.3622 13.5 13.3125 13.5ZM8 7.25C6.48366 7.25 5.25 8.48366 5.25 10C5.25 11.5163 6.48366 12.75 8 12.75C9.51634 12.75 10.75 11.5163 10.75 10C10.75 8.48366 9.51634 7.25 8 7.25ZM8 11.25C7.31075 11.25 6.75 10.6892 6.75 10C6.75 9.31075 7.31075 8.75 8 8.75C8.68925 8.75 9.25 9.31075 9.25 10C9.25 10.6892 8.68925 11.25 8 11.25Z",fill:"currentColor"})}),o=e=>(0,t.jsx)("svg",{width:"17",height:"16",viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,t.jsx)("path",{d:"M15.9143 1.75812L14.7422 0.585938C14.3515 0.195312 13.8397 0 13.3278 0C12.8159 0 12.304 0.195312 11.9137 0.585625L9.58593 2.91344L8.5 3.99938L0.901592 11.5975L0.504719 15.1669C0.454719 15.6163 0.80878 16 1.24847 16C1.27628 16 1.3044 15.9984 1.33253 15.9953L4.89939 15.6012L12.5006 8L13.5862 6.91437L15.914 4.58656C16.6953 3.80531 16.6953 2.53906 15.9143 1.75812ZM4.21095 14.1684L2.09909 14.4016L2.3344 12.2863L9.56062 5.06L10.53 4.09062L12.4094 5.97L11.44 6.93937L4.21095 14.1684ZM14.8534 3.52562L13.4697 4.90938L11.5906 3.03L12.9744 1.64625C13.1019 1.51875 13.2506 1.49969 13.3278 1.49969C13.405 1.49969 13.554 1.51875 13.6812 1.64625L14.8534 2.81844C15.0484 3.01375 15.0484 3.33094 14.8534 3.52562Z",fill:"currentColor"})}),u=e=>(0,t.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:(0,t.jsx)("path",{d:"M7.26326 6.5462H8.71794V12.3642H7.26326V6.5462ZM7.9906 3.1102C7.43278 3.1102 6.97888 3.5641 6.97888 4.12192C6.97888 4.67974 7.43278 5.13364 7.9906 5.13364C8.54842 5.13364 9.00232 4.67974 9.00232 4.12192C9.00232 3.5641 8.54842 3.1102 7.9906 3.1102ZM16 8C16 12.411 12.411 16 8 16C3.589 16 0 12.411 0 8C0 3.589 3.589 0 8 0C12.411 0 16 3.589 16 8ZM14.5453 8C14.5453 4.3906 11.6093 1.4546 7.99992 1.4546C4.39052 1.4546 1.45452 4.3914 1.45452 8.0006C1.45452 11.6098 4.39052 14.546 7.99992 14.546C11.6093 14.546 14.5453 11.6092 14.5453 8.0006V8Z",fill:"currentColor"})})},9022:(e,n,l)=>{"use strict";l.d(n,{c:()=>d,y:()=>m});var t=l(47299),r=l(90973),a=l(82580),s=l(12792),i=l(49267);function o(e){let n=e.trim().toUpperCase();return!!["CHAR","VARCHAR","TINYTEXT","TEXT","MEDIUMTEXT","LONGTEXT","NCHAR","NVARCHAR","VARCHAR2","NVARCHAR2","CLOB","NCLOB","VARCHAR(MAX)","XML","JSON"].includes(n)||/^(VARCHAR|NVARCHAR|VARCHAR2|NVARCHAR2|CHAR|NCHAR)\(\d+\)$/.test(n)}function u(e){return["BOOLEAN","TINYINT(1)","BIT","NUMBER(1)","BOOL"].includes(e.toUpperCase())}function c(e){return["DATE","DATETIME","TIMESTAMP","TIME","YEAR","DATETIME2","SMALLDATETIME","DATETIMEOFFSET","INTERVAL","TIMESTAMPTZ","TIMETZ","TIMESTAMP WITH TIME ZONE","TIMESTAMP WITH LOCAL TIME ZONE","TIMESTAMP_LTZ","TIMESTAMP_NTZ","TIMESTAMP_TZ"].includes(e.toUpperCase())}function d(e){return!o(e)&&!u(e)&&!c(e)}function m(e){let{params:n,onParamsChanged:l,setIsReadyToExecute:d}=e,{columns:m,isLoading:h,error:f}=(0,i.Ay)(n.model),v=m.filter(e=>!o(e.type)&&!u(e.type)&&!c(e.type));return h?(0,t.jsx)(r.a,{children:"Loading..."}):0===m.length||f?(0,t.jsx)(r.a,{children:"Error: Please provide the 'catalog.json' to list column candidates"}):(0,t.jsx)(r.a,{m:"16px",children:(0,t.jsxs)(a.XO,{children:[(0,t.jsx)(a.dh,{children:"Pick a column to show Histogram Diff"}),(0,t.jsxs)(s.MQ,{disabled:0===v.length,children:[(0,t.jsx)(s.uT,{value:n.column_name,onChange:e=>{var t,r;let a=e.target.value;d(!!a);let s=null!=(r=null==(t=v.find(e=>e.name===a))?void 0:t.type)?r:"";l({...n,column_name:a,column_type:s})},placeholder:0!==v.length?"Select column":"No numeric column is available",children:v.map(e=>(0,t.jsxs)("option",{value:e.name,children:[e.name," : ",e.type]},e.name))}),(0,t.jsx)(s.Nv,{})]})]})})}},9466:(e,n,l)=>{"use strict";l.d(n,{C:()=>eK});var t=l(37897),r=l(9022),a=l(47299),s=l(92125),i=l(88168),o=l(45867),u=l(90973),c=l(77320),d=l(89767);function m(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en-US",l=arguments.length>2?arguments[2]:void 0;return"number"!=typeof e?e:new Intl.NumberFormat(n,l).format(e)}function h(e){let n=e>0&&e<=.001,l=e<1&&e>=.999,t=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e;return m(n,"en-US",{style:"percent",minimumFractionDigits:1})};if(n){let e=t(.001);return"<".concat(e)}if(l){let e=t(.999);return">".concat(e)}return t()}function f(e){if("number"!=typeof e)return e;{let n=Math.abs(e),l=n>=.01,t=n>=1e6,r=n>=1e9,a=n>=1e15;if(a||n>=1e12)return new Intl.NumberFormat("en-US",{style:"unit",unit:"liter",unitDisplay:"narrow",maximumFractionDigits:2*!a}).format(e/1e12).replace("L","T");if(r||t||n>=1e3){let n={base:r?1e9:t?1e6:1e3,unit:r?"B":t?"M":"K"};return new Intl.NumberFormat("en-US",{style:"unit",unit:"liter",unitDisplay:"narrow",maximumFractionDigits:1}).format(e/n.base).replace("L",n.unit)}if(n>=1)return new Intl.NumberFormat("en-US",{maximumFractionDigits:2}).format(e);else return new Intl.NumberFormat("en-US",{maximumFractionDigits:l?3:2,notation:l||0===n?"standard":"scientific"}).format(e)}}let v="#63B3ED",p="#F6AD55",g="".concat(v,"A5"),x="".concat(p,"A5");function y(e){let{color:n}=e;return(0,a.jsx)(u.a,{display:"inline-block",w:"10px",h:"10px",bgColor:n,mr:"2",borderRadius:"sm"})}function j(e){let{data:n,hideAxis:l=!1,animation:t=!1}=e;c.t1.register(c.E8,c.iw,c.kc,c.PP,c.hE,c.s$,c.m_);let r=function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],{...l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{title:t,datasets:r,type:a,samples:s=0,binEdges:i}=e,[o,u]=r,c="datetime"===a;return{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{reverse:!0},title:{display:!0,text:t,font:{size:20}},tooltip:{mode:"index",intersect:!1,callbacks:{title(e){let[{dataIndex:n,datasetIndex:l}]=e,t=b(i,n);return"".concat(c?"Date Range":"string"===a?"Text Length":"Value Range","\n").concat(t)},label(e){let{datasetIndex:n,dataIndex:l,dataset:{label:t}}=e,r=0===n?u.counts:o.counts,a=h(r[l]/s),i=r[l];return"".concat(t,": ").concat(i," (").concat(a,")")}}}},scales:function(e){let{datasets:n,min:l=0,max:t=0,type:r,binEdges:a}=e,s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],[i,o]=n,u=Math.max(...o.counts,...i.counts),c=a.map((e,n)=>b(a,n)).slice(0,-1);return{x:"datetime"===r?{display:!s,type:"timeseries",min:l,max:t,adapters:{date:{}},time:{minUnit:"day"},grid:{display:!1},ticks:{minRotation:30,maxRotation:30,maxTicksLimit:8}}:{display:!s,type:"category",grid:{display:!1},ticks:{callback:(e,n)=>c[n]},stacked:!0},y:{display:!s,type:"linear",max:u,border:{dash:[2,2]},grid:{color:"lightgray"},ticks:{maxTicksLimit:8,callback:function(e,n){return f(e)}},beginAtZero:!0}}}(e,n),...l}}(n,l,{animation:t}),s=function(e){let{datasets:n,type:l,binEdges:t}=e,[r,a]=n,s=C(l,t,"Current",g,a),i=C(l,t,"Base",x,r);return{labels:t.map((e,n)=>b(t,n)).slice(0,-1),datasets:[s,i]}}(n);return(0,a.jsx)(d.t1,{type:"bar",options:r,data:s,plugins:[]})}function C(e,n,l,t,r){let{counts:a=[]}=r;return{label:l,data:"datetime"===e?a.map((e,l)=>({x:n[l],y:e})):a,backgroundColor:t,borderColor:t,hoverBackgroundColor:t,borderWidth:0,categoryPercentage:1,barPercentage:1,xAxisID:"x"}}function b(e,n){let l=e[n],t=e[n+1],r=f(l),a=f(t);return"".concat(r," - ").concat(a)}var w=l(93731);let _=(0,w.forwardRef)((e,n)=>{let{backgroundColor:l="white",blockSize:t,children:r,...s}=e;return(0,a.jsx)(u.a,{ref:n,...s,overflowY:"auto",overflowX:"hidden",children:(0,a.jsx)(u.a,{backgroundColor:l,height:"100%",blockSize:t,children:r})})}),k=(0,w.forwardRef)(function(e,n){var l,t,r,c,d,m,h;let{run:f}=e,v=f.params,p=null==(l=f.result)?void 0:l.base,g=null==(t=f.result)?void 0:t.current,x=null==(r=f.result)?void 0:r.min,y=null==(c=f.result)?void 0:c.max,C=null==(d=f.result)?void 0:d.bin_edges;return p&&g?(0,a.jsx)(s.s,{direction:"column",height:"100%",children:(0,a.jsx)(_,{ref:n,height:"100%",children:(0,a.jsxs)(i.z,{children:[(0,a.jsx)(o.h,{}),(0,a.jsx)(u.a,{w:"80%",h:"35vh",m:"4",children:(0,a.jsx)(j,{data:{title:"Model ".concat(v.model,".").concat(v.column_name),type:null!=(h=null==(m=f.params)?void 0:m.column_type)?h:"",datasets:[p,g],min:x,max:y,samples:p.total,binEdges:C}})}),(0,a.jsx)(o.h,{})]})})}):(0,a.jsx)("div",{children:"Loading..."})});var E=l(48757),S=l(96984),R=l(52872),F=l(69090),M=l.n(F);l(83037);var A=l(37077),T=l(25927),O=l(93377),I=l(39379),D=l(17999),L=l(61473),N=l(88415),z=l(69149),V=l(2422);let P=e=>{let{value:n,colorPalette:l,grayOut:t,noCopy:r,fontSize:i}=e,[o,c]=(0,z.Cj)(),d=!!o,[m,h]=(0,w.useState)(!1);return(0,a.jsxs)(s.s,{p:"2px 5px",minWidth:"30px",maxWidth:"200px",overflow:"hidden",textOverflow:"ellipsis",color:"".concat(l,".800"),backgroundColor:"".concat(l,".100"),alignItems:"center",gap:"2px",rounded:"md",fontSize:i,flexShrink:r?"0":"inherit",onMouseEnter:()=>{h(!0)},onMouseLeave:()=>{h(!1)},children:[(0,a.jsx)(u.a,{overflow:"hidden",textOverflow:"ellipsis",color:t?"gray":"inherit",children:n}),(0,a.jsx)(()=>r||t?(0,a.jsx)(a.Fragment,{}):d?(0,a.jsx)(a.Fragment,{children:"Copied"}):m?(0,a.jsx)(O.K,{"aria-label":"Copy",size:"xs",minW:"10px",h:"10px",variant:"plain",onClick:()=>c(n),display:"flex",alignItems:"center",justifyContent:"center",children:(0,a.jsx)(V.hX7,{size:"10px"})}):(0,a.jsx)(a.Fragment,{}),{})]})};function H(e,n){return[{value:"Show raw value",onClick:()=>{n({[e]:"raw"})}},{value:"Show 2 decimal points",onClick:()=>{n({[e]:2})}},{value:"Show 4 decimal points",onClick:()=>{n({[e]:4})}},{value:"Show 6 decimal points",onClick:()=>{n({[e]:6})}},{value:"Show as percentage",onClick:()=>{n({[e]:"percent"})}}]}function B(e,n){let l=[];for(let t of n){let n=e.findIndex(e=>e.name===t);if(n<0)throw Error("Column ".concat(t," not found"));l.push(n)}return l}function K(e,n,l){let t={};if(0===n.length)return JSON.stringify({_index:l._index});for(let r of n)t[e[r].name]=l[r];return JSON.stringify(t)}function U(e){var n,l;let{name:t,columnStatus:r,onPrimaryKeyChange:i,onPinnedColumnsChange:o,columnType:c,onColumnsRenderModeChanged:d,...m}=e,h=null!=(n=m.primaryKeys)?n:[],f=null!=(l=m.pinnedColumns)?l:[],v=h.includes(t),p=f.includes(t),g=[];return(d&&(g=H(t,d)),"index"===t)?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(s.s,{alignItems:"center",gap:"10px",className:"grid-header",children:[v&&(0,a.jsx)(A.I,{as:L.IuQ}),(0,a.jsx)(u.a,{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:t}),"added"!==r&&"removed"!==r&&i&&(0,a.jsx)(A.I,{className:v?"close-icon":"key-icon",display:v?"block":"none",cursor:"pointer",as:v?L.RQJ:L.IuQ,onClick:v?()=>{let e=h.filter(e=>e!==t);i&&i(e)}:()=>{let e=[...h.filter(e=>"index"!==e),t];i&&i(e)}}),!v&&o&&(0,a.jsx)(A.I,{className:p?"unpin-icon":"pin-icon",display:p?"block":"none",cursor:"pointer",as:p?L.FUl:L.woV,onClick:p?()=>{let e=f.filter(e=>e!==t);o&&o(e)}:()=>{let e=[...f,t];o&&o(e)}}),!v&&"number"===c&&(0,a.jsxs)(T.il,{children:[(0,a.jsx)(T.cQ,{asChild:!0,children:(0,a.jsx)(O.K,{"aria-label":"Options",variant:"plain",className:"!size-4 !min-w-4",children:(0,a.jsx)(L.EUt,{})})}),(0,a.jsx)(I.Z,{children:(0,a.jsx)(T.y3,{children:(0,a.jsx)(T.rm,{children:g.map(e=>(0,a.jsx)(T.Dr,{value:e.value,onClick:e.onClick,children:e.value},e.value))})})})]})]})}let W=function(e,n,l){let t,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"raw";if(!Object.hasOwn(e,n))return["-",!0];let a=e[n],s=!1;return"boolean"==typeof a?t=a.toString():""===a?(t="(empty)",s=!0):null==a?(t="(null)",s=!0):t="number"==typeof a?String(a):l&&"number"===l?function(e,n){let l,t="en-US";return null!=(l="number"==typeof n?m(e,t,{maximumFractionDigits:n,minimumFractionDigits:n}):"percent"===n?m(e,t,{style:"percent",maximumFractionDigits:2}):String(e))?l:""}(parseFloat(a),r):String(a),[t,s]},X=e=>{let{row:n,column:l}=e,{columnType:t,columnRenderMode:r}=l,[s,i]=W(n,l.key,t,r);return(0,a.jsx)(D.E,{style:{color:i?"gray":"inherit"},children:s})},Z=e=>{let{row:n,column:l}=e,{columnType:t,columnRenderMode:r}=l,i="base__".concat(l.key),o="current__".concat(l.key);if(!Object.hasOwn(n,i)&&!Object.hasOwn(n,o))return"-";let u=Object.hasOwn(n,i),c=Object.hasOwn(n,o),[d,m]=W(n,"base__".concat(l.key),t,r),[h,f]=W(n,"current__".concat(l.key),t,r);return n[i]===n[o]?(0,a.jsx)(D.E,{style:{color:f?"gray":"inherit"},children:h}):(0,a.jsxs)(s.s,{gap:"5px",alignItems:"center",lineHeight:"normal",height:"100%",children:[u&&(0,a.jsx)(P,{value:d,colorPalette:"red",grayOut:m}),c&&(0,a.jsx)(P,{value:h,colorPalette:"green",grayOut:f})]})};function Q(e,n,l){var t,r,s,i,o;let u=null!=e?e:{columns:[],data:[]},c=null!=n?n:{columns:[],data:[]},d=null!=(t=null==l?void 0:l.primaryKeys)?t:[],m=null!=(r=null==l?void 0:l.pinnedColumns)?r:[],h=null!=(s=null==l?void 0:l.changedOnly)&&s,f=null!=(i=null==l?void 0:l.displayMode)?i:"side_by_side",v=null!=(o=null==l?void 0:l.columnsRenderMode)?o:{},p=[],g=function(e,n){let l={};return Object.entries((0,N.l)(e.columns.map(e=>e.name),n.columns.map(e=>e.name))).map(t=>{var r,a;let[s,i]=t;l[s]={status:i,baseColumnIndex:e.columns.findIndex(e=>e.name===s),currentColumnIndex:n.columns.findIndex(e=>e.name===s),colType:null!=(a=null==(r=e.columns.find(e=>e.name===s))?void 0:r.type)?a:"unknown"}}),l}(u,c),x={},y={},j=!1,C=!1;if(0===d.length)u.data.forEach((e,n)=>{e._index=n+1,x[JSON.stringify({_index:n+1})]=e}),c.data.forEach((e,n)=>{e._index=n+1,y[JSON.stringify({_index:n+1})]=e});else{let e=B(u.columns,d);u.data.forEach((n,l)=>{let t=K(u.columns,e,n);t in x&&(j=!0),x[t]=n}),e=B(c.columns,d),c.data.forEach((n,l)=>{let t=K(c.columns,e,n);t in y&&(C=!0),y[t]=n})}let b=(0,N.l)(Object.keys(x),Object.keys(y)),w={added:0,removed:0,modified:0},_=Object.entries(b).map(e=>{let[n,l]=e,t=x[n],r=y[n],a=JSON.parse(n);if(t&&u.columns.forEach((e,n)=>{d.includes(e.name)||(a["base__".concat(e.name)]=t[n])}),r&&c.columns.forEach((e,n)=>{d.includes(e.name)||(a["current__".concat(e.name)]=r[n])}),t)if(r){for(let[e,n]of Object.entries(g))!("index"===e||d.includes(e))&&(n.baseColumnIndex<0||n.currentColumnIndex<0||M().isEqual(t[n.baseColumnIndex],r[n.currentColumnIndex])||(a.__status="modified",n.status="modified"));"modified"===a.__status&&w.modified++}else a.__status="removed",w.removed++;else a.__status="added",w.added++;return a});h&&(_=_.filter(e=>"added"===e.__status||"removed"===e.__status||"modified"===e.__status));let k=function(e,n,t){var r,s;let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"raw",o="added"===n?"diff-header-added":"removed"===n?"diff-header-removed":void 0;return"inline"===f?{headerCellClass:o,name:(0,a.jsx)(U,{name:e,columnStatus:n,columnType:t,...l}),key:e,renderCell:Z,columnType:t,columnRenderMode:i}:{headerCellClass:o,name:(0,a.jsx)(U,{name:e,columnStatus:n,columnType:t,...l}),children:[{key:"base__".concat(e),name:null!=(r=null==l?void 0:l.baseTitle)?r:"Base",renderEditCell:R.jE,headerCellClass:o,cellClass:l=>{let t=l.__status;if("removed"===t)return"diff-cell-removed";if("added"===t)return"diff-cell-added";if("added"===n);else if("removed"===n);else if(!M().isEqual(l["base__".concat(e)],l["current__".concat(e)]))return"diff-cell-removed"},renderCell:X,columnType:t,columnRenderMode:i},{key:"current__".concat(e),name:null!=(s=null==l?void 0:l.currentTitle)?s:"Current",renderEditCell:R.jE,headerCellClass:o,cellClass:l=>{let t=l.__status;if("removed"===t)return"diff-cell-removed";if("added"===t)return"diff-cell-added";if("added"===n);else if("removed"===n);else if(!M().isEqual(l["base__".concat(e)],l["current__".concat(e)]))return"diff-cell-added"},renderCell:X,columnType:t,columnRenderMode:i}]}};return 0===d.length?p.push({key:"_index",width:50,maxWidth:100,name:"",cellClass:"index-column"}):d.forEach(e=>{var n;let t=null!=(n=g[e].status)?n:"",r=g[e].colType;p.push({key:e,name:(0,a.jsx)(U,{name:e,columnStatus:t,columnType:r,...l}),frozen:!0,cellClass:e=>{if(e.__status)return"diff-header-".concat(e.__status)},renderCell:X,columnType:r,columnRenderMode:v[e]})}),m.forEach(e=>{var n;let l=null!=(n=g[e].status)?n:"",t=g[e].colType;"index"!==e&&(d.includes(e)||p.push(k(e,l,t,v[e])))}),Object.entries(g).forEach(e=>{var n;let[l,t]=e,r=null!=(n=t.status)?n:"",a=g[l].colType;!("index"===l||d.includes(l)||m.includes(l))&&(h&&w.modified>0&&"added"!==r&&"removed"!==r&&"modified"!==r||p.push(k(l,r,a,v[l])))}),{columns:p,rows:_,invalidPKeyBase:j,invalidPKeyCurrent:C}}var q=l(98250);let J=e=>{let{warnings:n,children:l}=e;return(0,a.jsxs)(s.s,{borderBottom:"1px solid lightgray",justifyContent:"flex-end",gap:"5px",alignItems:"center",px:"10px",bg:n&&n.length>0?"orange.100":"inherit",children:[(0,a.jsx)(q.T,{alignItems:"flex-start",gap:0,children:null==n?void 0:n.map((e,n)=>(0,a.jsxs)(u.a,{children:[(0,a.jsx)(V.e5t,{color:"orange.600"})," ",e]},n))}),(0,a.jsx)(o.h,{minHeight:"32px"}),l]})};var Y=l(72337),$=l(60117);let G=e=>{let{value:n,onChange:l,textOn:t,textOff:r}=e;return(0,a.jsxs)(Y.e,{attached:!0,variant:"outline",borderRadius:"full",size:"xs",children:[(0,a.jsx)($.$,{onClick:()=>{l(!1)},color:n?"gray.400":"black",bg:n?"gray.50":"white",children:null!=r?r:"Off"}),(0,a.jsx)($.$,{onClick:()=>{l(!0)},color:n?"black":"gray.400",bg:n?"white":"gray.50",children:null!=t?t:"On"})]})},ee=e=>{let{displayMode:n,onDisplayModeChanged:l}=e;return(0,a.jsxs)(a.Fragment,{children:["inline"===n&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P,{value:"Base",colorPalette:"red",grayOut:!1,fontSize:"10pt",noCopy:!0}),(0,a.jsx)(P,{value:"Current",colorPalette:"green",grayOut:!1,fontSize:"10pt",noCopy:!0})]}),(0,a.jsx)(G,{value:"side_by_side"===n,onChange:e=>{l(e?"side_by_side":"inline")},textOff:"Inline",textOn:"Side by side"})]})};function en(e){let{name:n,pinnedColumns:l=[],onPinnedColumnsChange:t=()=>{},columnType:r,onColumnsRenderModeChanged:i}=e,o=[];i&&(o=H(n,i));let c=l.includes(n);return(0,a.jsxs)(s.s,{className:"grid-header",alignItems:"center",children:[(0,a.jsx)(u.a,{flex:1,children:n}),(0,a.jsx)(A.I,{className:c?"unpin-icon":"pin-icon",display:c?"block":"none",cursor:"pointer",as:c?L.FUl:L.woV,onClick:c?()=>{t(l.filter(e=>e!==n))}:()=>{t([...l,n])}}),"number"===r&&(0,a.jsxs)(T.il,{children:[(0,a.jsx)(T.cQ,{asChild:!0,children:(0,a.jsx)(O.K,{"aria-label":"Options",variant:"plain",className:"!size-4 !min-w-4",children:(0,a.jsx)(V.Q7K,{})})}),(0,a.jsx)(I.Z,{children:(0,a.jsx)(T.y3,{children:(0,a.jsx)(T.rm,{children:o.map(e=>(0,a.jsx)(T.Dr,{value:e.value,onClick:e.onClick,children:e.value},e.value))})})})]})]})}function el(e,n){var l,t,r;let s=[],i=null!=(l=n.primaryKeys)?l:[],o=null!=(t=n.pinnedColumns)?t:[],u=null!=(r=n.columnsRenderMode)?r:{},c={};e.columns.forEach(e=>{c[e.name]={colType:e.type}});let d=function(e,l,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"raw";return{key:String(e),name:(0,a.jsx)(en,{name:l,...n,columnType:t}),width:"auto",renderCell:X,columnType:t,columnRenderMode:r}},m=function(e,l,t){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"raw";return{key:String(e),name:(0,a.jsx)(U,{name:l,columnStatus:"",columnType:t,...n}),width:"auto",frozen:!0,renderCell:X,columnType:t,columnRenderMode:r}};return i.length>0?i.forEach(n=>{let l=M().findIndex(e.columns,e=>e.name===n),t=c[n].colType;s.push(m(l,n,t,u[n]))}):s.push({key:"_index",name:"",width:50,cellClass:"index-column"}),o.forEach(n=>{let l=c[n].colType,t=M().findIndex(e.columns,e=>e.name===n);t<0||s.push(d(t,n,l,u[n]))}),e.columns.forEach((e,n)=>{let{name:l}=e;if(i.includes(l)||o.includes(l))return;let t=c[l].colType;s.push(d(n,l,t,u[l]))}),e.data.forEach((e,n)=>{e._index=n+1}),{columns:s,rows:e.data}}l(24754);let et=(0,w.forwardRef)((e,n)=>{var l;let{run:t,viewOptions:r,onViewOptionsChanged:i,onAddToChecklist:c}=e,d=(0,w.useMemo)(()=>{var e;return null!=(e=null==r?void 0:r.pinned_columns)?e:[]},[r]),m=(0,w.useMemo)(()=>{var e;return null!=(e=null==r?void 0:r.columnsRenderMode)?e:{}},[r]),h=t.result,f=(0,w.useMemo)(()=>h?el(h,{pinnedColumns:d,onPinnedColumnsChange:e=>{i&&i({...r,pinned_columns:e})},columnsRenderMode:m,onColumnsRenderModeChanged:e=>{var n;let l={...null!=(n=null==r?void 0:r.columnsRenderMode)?n:{},...e};i&&i({...r,columnsRenderMode:l})}}):{rows:[],columns:[]},[h,d,r,i,m]);if(0===f.columns.length)return(0,a.jsx)(E.o,{height:"100%",children:"No data"});let v=h&&null!=(l=h.limit)?l:0,p=v>0&&(null==h?void 0:h.more)?"Warning: Displayed results are limited to ".concat(v.toLocaleString()," records. To ensure complete data retrieval, consider applying a LIMIT or WHERE clause to constrain the result set."):null,g=null!=c?c:p;return(0,a.jsxs)(s.s,{direction:"column",backgroundColor:"rgb(249, 249, 249)",height:"100%",children:[g&&(0,a.jsxs)(s.s,{borderBottom:"1px solid lightgray",alignItems:"center",gap:"5px",px:"10px",bg:p?"orange.100":"inherit",children:[p&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(V.e5t,{color:"orange.600",className:"self-center"})," ",(0,a.jsx)(u.a,{children:p})]}),(0,a.jsx)(o.h,{minHeight:"32px"}),c&&(0,a.jsx)($.$,{marginBlock:"5px",size:"xs",colorPalette:"iochmara",onClick:()=>{c(t)},children:"Add to Checklist"})]}),(0,a.jsx)(S.z,{ref:n,style:{blockSize:"auto",maxHeight:"100%",overflow:"auto"},columns:f.columns,rows:f.rows,renderers:{noRowsFallback:(0,a.jsx)(S.a,{})},defaultColumnOptions:{resizable:!0,maxWidth:800,minWidth:35},className:"rdg-light"})]})}),er=(0,w.forwardRef)((e,n)=>{var l,t,r;let{run:i,viewOptions:o,onViewOptionsChanged:u}=e,c=i.result,d=(0,w.useMemo)(()=>{var e;return null!=(e=null==o?void 0:o.pinned_columns)?e:[]},[o]),m=(0,w.useMemo)(()=>{var e;return null!=(e=null==o?void 0:o.display_mode)?e:"inline"},[o]),h=(0,w.useMemo)(()=>{var e;return null!=(e=null==o?void 0:o.columnsRenderMode)?e:{}},[o]),f=(null!=(t=null==c||null==(l=c.current)?void 0:l.columns)?t:[]).find(e=>"column_name"===e.name.toLowerCase()),v=null!=(r=null==f?void 0:f.name)?r:"column_name",p=(0,w.useMemo)(()=>Q(null==c?void 0:c.base,null==c?void 0:c.current,{primaryKeys:[v],pinnedColumns:d,onPinnedColumnsChange:e=>{u&&u({...o,pinned_columns:e})},displayMode:m,columnsRenderMode:h,onColumnsRenderModeChanged:e=>{var n;let l={...null!=(n=null==o?void 0:o.columnsRenderMode)?n:{},...e};u&&u({...o,columnsRenderMode:l})}}),[c,v,d,m,o,u,h]);return 0===p.columns.length?(0,a.jsx)(E.o,{height:"100%",children:"No data"}):(0,a.jsxs)(s.s,{direction:"column",backgroundColor:"rgb(249, 249, 249)",height:"100%",children:[(0,a.jsx)(J,{run:i,children:(0,a.jsx)(ee,{displayMode:m,onDisplayModeChanged:e=>{u&&u({...o,display_mode:e})}})}),(0,a.jsx)(S.z,{ref:n,style:{blockSize:"auto",maxHeight:"100%",overflow:"auto"},columns:p.columns,rows:p.rows,defaultColumnOptions:{resizable:!0,maxWidth:800,minWidth:35},className:"rdg-light"})]})}),ea=(0,w.forwardRef)((e,n)=>{var l,t,r;let{run:i,viewOptions:o,onViewOptionsChanged:u}=e,c=i.result,d=null==c?void 0:c.current,m=(0,w.useMemo)(()=>{var e;return null!=(e=null==o?void 0:o.pinned_columns)?e:[]},[o]),h=(0,w.useMemo)(()=>{var e;return null!=(e=null==o?void 0:o.columnsRenderMode)?e:{}},[o]),f=(null!=(t=null==c||null==(l=c.current)?void 0:l.columns)?t:[]).find(e=>"column_name"===e.name.toLowerCase()),v=null!=(r=null==f?void 0:f.name)?r:"column_name",p=(0,w.useMemo)(()=>d?el(d,{primaryKeys:[v],pinnedColumns:m,onPinnedColumnsChange:e=>{u&&u({...o,pinned_columns:e})},columnsRenderMode:h,onColumnsRenderModeChanged:e=>{var n;let l={...null!=(n=null==o?void 0:o.columnsRenderMode)?n:{},...e};u&&u({...o,columnsRenderMode:l})}}):{columns:[],rows:[]},[d,m,v,o,u,h]);return 0===p.columns.length?(0,a.jsx)(E.o,{height:"100%",children:"No data"}):(0,a.jsx)(s.s,{direction:"column",backgroundColor:"rgb(249, 249, 249)",height:"100%",children:(0,a.jsx)(S.z,{ref:n,style:{blockSize:"auto",maxHeight:"100%",overflow:"auto"},columns:p.columns,rows:p.rows,defaultColumnOptions:{resizable:!0,maxWidth:800,minWidth:35},className:"rdg-light"})})});function es(e){var n,l;let{name:t,columnStatus:r,onPrimaryKeyChange:i,onPinnedColumnsChange:o,columnType:c,onColumnsRenderModeChanged:d,...m}=e,h=null!=(n=m.primaryKeys)?n:[],f=null!=(l=m.pinnedColumns)?l:[],v=h.includes(t),p=f.includes(t),g=[];return(d&&(g=H(t,d)),"index"===t)?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(s.s,{alignItems:"center",gap:"10px",className:"grid-header",children:[v&&(0,a.jsx)(A.I,{as:L.IuQ}),(0,a.jsx)(u.a,{flex:1,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:t}),!v&&o&&(0,a.jsx)(A.I,{className:p?"unpin-icon":"pin-icon",display:p?"block":"none",cursor:"pointer",as:p?L.FUl:L.woV,onClick:p?()=>{let e=f.filter(e=>e!==t);o&&o(e)}:()=>{let e=[...f,t];o&&o(e)}}),!v&&"number"===c&&(0,a.jsxs)(T.il,{children:[(0,a.jsx)(T.cQ,{asChild:!0,children:(0,a.jsx)(O.K,{"aria-label":"Options",variant:"plain",className:"!size-4 !min-w-4",children:(0,a.jsx)(L.EUt,{})})}),(0,a.jsx)(I.Z,{children:(0,a.jsx)(T.y3,{children:(0,a.jsx)(T.rm,{children:g.map(e=>(0,a.jsx)(T.Dr,{value:e.value,onClick:e.onClick,children:e.value},e.value))})})})]})]})}function ei(e,n,l){var t,r,s,i;let o=null!=(t=null==l?void 0:l.pinnedColumns)?t:[],u=null!=(r=null==l?void 0:l.changedOnly)&&r,c=null!=(s=null==l?void 0:l.displayMode)?s:"inline",d=null!=(i=null==l?void 0:l.columnsRenderMode)?i:{},m=[],h=function(e){let n={};return e.columns.map((e,l)=>{n[e.name]={index:l,colType:e.type}}),n}(e),f={},v={};if(0===n.length)throw Error("Primary keys are required");let p=function(e,n){let l=[];for(let t of n){let n=e.findIndex(e=>e.name===t);if(n<0)throw Error("Column ".concat(t," not found"));l.push(n)}return l}(e.columns,n),g=(h.in_a||h.IN_A).index,x=(h.in_b||h.IN_B).index;e.data.forEach((n,l)=>{let t=function(e,n,l){let t={};if(0===n.length)return JSON.stringify({_index:l._index});for(let r of n)t[e[r].name]=l[r];return JSON.stringify(t)}(e.columns,p,n);n[g]&&(f[t]=n),n[x]&&(v[t]=n)});let y=(0,N.l)(Object.keys(f),Object.keys(v)),j={added:0,removed:0,modified:0},C=Object.entries(y).map(l=>{let[t,r]=l,a=f[t],s=v[t],i=JSON.parse(t);if(a&&e.columns.forEach((e,l)=>{n.includes(e.name)||(i["base__".concat(e.name)]=a[l])}),s&&e.columns.forEach((e,l)=>{n.includes(e.name)||(i["current__".concat(e.name)]=s[l])}),a)if(s)for(let[e,l]of Object.entries(h))"index"!==e&&!n.includes(e)&&(M().isEqual(a[l.index],s[l.index])||(i.__status="modified",l.status="modified"));else i.__status="removed",j.removed++;else i.__status="added",j.added++;return"modified"===i.__status&&j.modified++,i});u&&(C=C.filter(e=>"added"===e.__status||"removed"===e.__status||"modified"===e.__status));let b=function(e,t,r){var s,i;let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"raw",u="added"===t?"diff-header-added":"removed"===t?"diff-header-removed":void 0;return"inline"===c?{headerCellClass:u,name:(0,a.jsx)(es,{name:e,columnStatus:t,primaryKeys:n,columnType:r,...l}),key:e,renderCell:Z,columnType:r,columnRenderMode:o}:{headerCellClass:u,name:(0,a.jsx)(es,{name:e,columnStatus:t,primaryKeys:n,columnType:r,...l}),children:[{key:"base__".concat(e),name:null!=(s=null==l?void 0:l.baseTitle)?s:"Base",renderEditCell:R.jE,headerCellClass:u,cellClass:n=>{let l=n.__status;if("removed"===l)return"diff-cell-removed";if("added"===l)return"diff-cell-added";if("added"===t);else if("removed"===t);else if(!M().isEqual(n["base__".concat(e)],n["current__".concat(e)]))return"diff-cell-removed"},renderCell:X,columnType:r,columnRenderMode:o},{key:"current__".concat(e),name:null!=(i=null==l?void 0:l.currentTitle)?i:"Current",renderEditCell:R.jE,headerCellClass:u,cellClass:n=>{let l=n.__status;if("removed"===l)return"diff-cell-removed";if("added"===l)return"diff-cell-added";if("added"===t);else if("removed"===t);else if(!M().isEqual(n["base__".concat(e)],n["current__".concat(e)]))return"diff-cell-added"},renderCell:X,columnType:r,columnRenderMode:o}]}};return n.forEach(e=>{var t;let r=null!=(t=h[e].status)?t:"",s=h[e].colType;m.push({key:e,name:(0,a.jsx)(es,{name:e,columnStatus:r,primaryKeys:n,columnType:"unknown",...l}),frozen:!0,cellClass:e=>{if(e.__status)return"diff-header-".concat(e.__status)},renderCell:X,columnType:s,columnRenderMode:d[e]})}),o.forEach(e=>{var l;let t=null!=(l=h[e].status)?l:"",r=h[e].colType;n.includes(e)||m.push(b(e,t,r,d[e]))}),Object.entries(h).forEach(e=>{var l;let[t,r]=e,a=null!=(l=r.status)?l:"";!("in_a"===t||"in_b"===t||n.includes(t)||o.includes(t))&&(u&&j.modified>0&&"added"!==a&&"removed"!==a&&"modified"!==a||m.push(b(t,a,r.colType,d[t])))}),{columns:m,rows:C}}var eo=l(67012);let eu=e=>{let{changedOnly:n,onChange:l}=e;return(0,a.jsxs)(eo.y8,{size:"xs",checked:n,onCheckedChange:()=>{l()},children:[(0,a.jsx)(eo.Ks,{}),(0,a.jsx)(eo.v7,{}),(0,a.jsx)(eo.Sb,{children:"Changed only"})]})},ec=(e,n)=>{var l,t,r,i,o,u,c;let{run:d,onAddToChecklist:m,viewOptions:h,onViewOptionsChanged:f,baseTitle:v,currentTitle:p}=e,g=(0,w.useMemo)(()=>{var e;return null!=(e=null==h?void 0:h.primary_keys)?e:[]},[h]),x=(0,w.useMemo)(()=>{var e;return null!=(e=null==h?void 0:h.changed_only)&&e},[h]),y=(0,w.useMemo)(()=>{var e;return null!=(e=null==h?void 0:h.pinned_columns)?e:[]},[h]),j=(0,w.useMemo)(()=>{var e;return null!=(e=null==h?void 0:h.display_mode)?e:"inline"},[h]),C=(0,w.useMemo)(()=>{var e;return null!=(e=null==h?void 0:h.columnsRenderMode)?e:{}},[h]),b=(0,w.useMemo)(()=>{var e,n;return Q(null==(e=d.result)?void 0:e.base,null==(n=d.result)?void 0:n.current,{changedOnly:x,primaryKeys:g,onPrimaryKeyChange:e=>{f&&f({...h,primary_keys:e})},pinnedColumns:y,onPinnedColumnsChange:e=>{f&&f({...h,pinned_columns:e})},columnsRenderMode:C,onColumnsRenderModeChanged:e=>{var n;let l={...null!=(n=null==h?void 0:h.columnsRenderMode)?n:{},...e};f&&f({...h,columnsRenderMode:l})},baseTitle:v,currentTitle:p,displayMode:j})},[d,h,x,g,y,j,f,v,p,C]),_=(0,w.useMemo)(()=>{let e=g.join(", ");return b.invalidPKeyBase&&b.invalidPKeyCurrent?"Warning: The primary key '".concat(e,"' is not unique in the base and current environments"):b.invalidPKeyBase?"Warning: The primary key '".concat(e,"' is not unique in the base environment"):b.invalidPKeyCurrent?"Warning: The primary key '".concat(e,"' is not unique in the current environment"):void 0},[b.invalidPKeyBase,b.invalidPKeyCurrent,g]),k=null!=(c=null==(t=d.result)||null==(l=t.current)?void 0:l.limit)?c:0,R=k>0&&((null==(i=d.result)||null==(r=i.current)?void 0:r.more)||(null==(u=d.result)||null==(o=u.base)?void 0:o.more))?"Warning: Displayed results are limited to ".concat(k.toLocaleString()," records. To ensure complete data retrieval, consider applying a LIMIT or WHERE clause to constrain the result set."):null,F=[];return(_&&F.push(_),R&&F.push(R),0===b.columns.length)?(0,a.jsx)(E.o,{height:"100%",children:"No data"}):(0,a.jsxs)(s.s,{direction:"column",backgroundColor:"rgb(249, 249, 249)",height:"100%",children:[(0,a.jsxs)(J,{run:d,viewOptions:h,onViewOptionsChanged:f,warnings:F,children:[(0,a.jsx)(ee,{displayMode:j,onDisplayModeChanged:e=>{f&&f({...h,display_mode:e})}}),(0,a.jsx)(eu,{changedOnly:null==h?void 0:h.changed_only,onChange:()=>{let e=!(null==h?void 0:h.changed_only);f&&f({...h,changed_only:e})}})]}),(0,a.jsx)(S.z,{ref:n,style:{blockSize:"auto",maxHeight:"100%",overflow:"auto"},columns:b.columns,rows:b.rows,renderers:{noRowsFallback:(0,a.jsx)(S.a,{emptyMessage:"No mismatched rows"})},defaultColumnOptions:{resizable:!0,maxWidth:800,minWidth:35},className:"rdg-light"})]})},ed=(e,n)=>{var l,t,r,i,o;let{run:u,viewOptions:c,onViewOptionsChanged:d,baseTitle:m,currentTitle:h}=e,f=(0,w.useMemo)(()=>{var e;return null!=(e=null==c?void 0:c.changed_only)&&e},[c]),v=(0,w.useMemo)(()=>{var e;return null!=(e=null==c?void 0:c.pinned_columns)?e:[]},[c]),p=(0,w.useMemo)(()=>{var e;return null!=(e=null==c?void 0:c.display_mode)?e:"inline"},[c]),g=(0,w.useMemo)(()=>{var e;return null!=(e=null==c?void 0:c.columnsRenderMode)?e:{}},[c]),x=(0,w.useMemo)(()=>{var e,n;if(!(null==(e=u.result)?void 0:e.diff)||!(null==(n=u.params)?void 0:n.primary_keys))return{columns:[],rows:[]};let l=u.params.primary_keys;return ei(u.result.diff,l,{changedOnly:f,pinnedColumns:v,onPinnedColumnsChange:e=>{d&&d({...c,pinned_columns:e})},baseTitle:m,currentTitle:h,displayMode:p,columnsRenderMode:g,onColumnsRenderModeChanged:e=>{var n;let l={...null!=(n=null==c?void 0:c.columnsRenderMode)?n:{},...e};d&&d({...c,columnsRenderMode:l})}})},[u,c,f,v,p,d,m,h,g]),y=null!=(o=null==(t=u.result)||null==(l=t.diff)?void 0:l.limit)?o:0,j=y>0&&(null==(i=u.result)||null==(r=i.diff)?void 0:r.more)?"Warning: Displayed results are limited to ".concat(y.toLocaleString()," records. To ensure complete data retrieval, consider applying a LIMIT or WHERE clause to constrain the result set."):null,C=[];return(j&&C.push(j),0===x.columns.length)?(0,a.jsx)(E.o,{height:"100%",children:"No data"}):f&&0===x.rows.length?(0,a.jsxs)(s.s,{direction:"column",backgroundColor:"rgb(249, 249, 249)",height:"100%",children:[(0,a.jsx)(J,{run:u,viewOptions:c,onViewOptionsChanged:d,warnings:C}),(0,a.jsx)(E.o,{height:"100%",children:"No change"})]}):(0,a.jsxs)(s.s,{direction:"column",backgroundColor:"rgb(249, 249, 249)",height:"100%",children:[(0,a.jsxs)(J,{run:u,viewOptions:c,onViewOptionsChanged:d,warnings:C,children:[(0,a.jsx)(ee,{displayMode:p,onDisplayModeChanged:e=>{d&&d({...c,display_mode:e})}}),(0,a.jsx)(eu,{changedOnly:null==c?void 0:c.changed_only,onChange:()=>{let e=!(null==c?void 0:c.changed_only);d&&d({...c,changed_only:e})}})]}),(0,a.jsx)(S.z,{ref:n,style:{blockSize:"auto",maxHeight:"100%",overflow:"auto"},columns:x.columns,rows:x.rows,renderers:{noRowsFallback:(0,a.jsx)(S.a,{emptyMessage:"No mismatched rows"})},defaultColumnOptions:{resizable:!0,maxWidth:800,minWidth:35},className:"rdg-light"})]})},em=(0,w.forwardRef)((e,n)=>{var l;let t,r;if(e.run.params&&e.run.params.current_model&&(t="Original",r="Editor"),(null==(l=e.run.result)?void 0:l.diff)!=null){let l=(0,w.forwardRef)(ed);return(0,a.jsx)(l,{...e,ref:n,baseTitle:t,currentTitle:r})}{let l=(0,w.forwardRef)(ec);return(0,a.jsx)(l,{...e,ref:n,baseTitle:t,currentTitle:r})}});var eh=l(98572),ef=l(33690),ev=l.n(ef);let ep=(0,w.forwardRef)(function(e,n){var l,t;let{run:r}=e;function i(e){if(e.base===e.current);else if(e.base<e.current||"N/A"===e.base)return"column-body-added";else if(e.base>e.current||"N/A"===e.current)return"column-body-removed";return"column-body-normal"}let o=null!=(l=r.result)?l:{},u=Object.keys(null!=(t=r.result)?t:{}).map(e=>{let n=o[e],l=ev()(n.base)?n.base:null,t=ev()(n.curr)?n.curr:null,r="=";return null!==l&&null!==t?r=l!==t?(0,eh.Q)(l,t):"=":l===t?r="N/A":null===l?r="Added":null===t&&(r="Removed"),{name:e,base:null===l?"N/A":Number(l),current:null===t?"N/A":Number(t),delta:r}});return 0===u.length?(0,a.jsx)(E.o,{bg:"rgb(249,249,249)",height:"100%",children:"No nodes matched"}):(0,a.jsx)(s.s,{direction:"column",children:Object.keys(o).length>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(S.z,{ref:n,style:{blockSize:"auto",maxHeight:"100%",overflow:"auto",fontSize:"10pt",borderWidth:1},columns:[{key:"name",name:"Name",cellClass:i},{key:"base",name:"Base Rows",cellClass:i},{key:"current",name:"Current Rows",cellClass:i},{key:"delta",name:"Delta",cellClass:i}],rows:u,renderers:{noRowsFallback:(0,a.jsx)(S.a,{})},className:"rdg-light"})})})}),eg=(0,w.forwardRef)(function(e,n){var l,t;let{run:r}=e,i=null!=(l=r.result)?l:{},o=Object.keys(null!=(t=r.result)?t:{}).map(e=>{let n=i[e],l=ev()(n.curr)?n.curr:null;return{name:e,current:null===l?"N/A":Number(l)}});return 0===o.length?(0,a.jsx)(E.o,{bg:"rgb(249,249,249)",height:"100%",children:"No nodes matched"}):(0,a.jsx)(s.s,{direction:"column",children:Object.keys(i).length>0&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(S.z,{ref:n,style:{blockSize:"auto",maxHeight:"100%",overflow:"auto",fontSize:"10pt",borderWidth:1},columns:[{key:"name",name:"Name"},{key:"current",name:"Row Count"}],rows:o,renderers:{noRowsFallback:(0,a.jsx)(S.a,{})},className:"rdg-light"})})})});var ex=l(82580),ey=l(12792),ej=l(49267),eC=l(32014),eb=l(12539),ew=l(96557),e_=l(97498);let ek="#63B3ED";function eE(e,n){let l=n?10:e.counts.length,t=e.counts.slice(0,l),r=e.valids-t.reduce((e,n)=>e+n,0);return e.values.slice(0,l).concat([r]).map((n,l)=>{var a;let s,i=l===t.length,o=i?r:t[l],u=!1;return i?(s="(others)",u=!0):null==n?(s="(null)",u=!0):"string"==typeof n&&0===n.length?(s="(empty)",u=!0):s=String(n),{isLastItemOthers:i,isSpecialLabel:u,label:s,count:o,displayCount:f(o),displayRatio:null!=(a=h(o/e.valids))?a:"N/A"}})}function eS(e){let{base:n,current:l,children:t}=e;return(0,a.jsx)(e_.m,{content:(0,a.jsxs)(u.a,{children:[(0,a.jsxs)(D.E,{children:[(0,a.jsx)(y,{color:v}),"Current: ",l.count," (",l.displayRatio,")"]}),(0,a.jsxs)(D.E,{children:[(0,a.jsx)(y,{color:p}),"Base: ",n.count," (",n.displayRatio,")"]})]}),showArrow:!0,children:t})}function eR(e){let{topKDiff:n,isDisplayTopTen:l}=e,t=eE(n.current,l),r=eE(n.base,l);return(0,a.jsxs)(u.a,{w:"100%",px:20,py:4,children:[(0,a.jsxs)(s.s,{alignItems:"center",direction:"row",children:[(0,a.jsx)(o.h,{}),(0,a.jsxs)(D.E,{as:"h3",fontSize:"sm",p:"2",color:"gray",children:[(0,a.jsx)(y,{color:p})," Base"]}),(0,a.jsxs)(D.E,{as:"h3",fontSize:"sm",p:"2",color:"gray",children:[(0,a.jsx)(y,{color:v})," Current"]}),(0,a.jsx)(o.h,{})]}),t.map((e,l)=>{let t=r[l];return e.isLastItemOthers&&0===e.count&&0===t.count?(0,a.jsx)(a.Fragment,{}):(0,a.jsxs)(w.Fragment,{children:[(0,a.jsx)(eS,{base:t,current:e,children:(0,a.jsxs)(s.s,{alignItems:"center",width:"100%",_hover:{bg:"blackAlpha.300"},px:4,children:[(0,a.jsx)(D.E,{lineClamp:1,width:"10em",fontSize:"sm",color:e.isSpecialLabel?"gray.400":"inherit",children:e.label}),(0,a.jsxs)(s.s,{width:"70%",direction:"column",children:[(0,a.jsxs)(s.s,{height:"1em",children:[(0,a.jsx)(eF,{topkCount:e.count,topkLabel:e.label,valids:n.current.valids,color:v}),(0,a.jsx)(D.E,{ml:5,mr:2,fontSize:"sm",width:"6em",children:e.displayCount}),(0,a.jsx)(D.E,{color:"gray.400",fontSize:"sm",width:"4em",children:e.displayRatio})]}),(0,a.jsxs)(s.s,{height:"1em",children:[(0,a.jsx)(eF,{topkCount:t.count,topkLabel:t.label,valids:n.base.valids,color:p}),(0,a.jsx)(D.E,{ml:5,mr:2,fontSize:"sm",width:"6em",children:t.displayCount}),(0,a.jsx)(D.E,{color:"gray.400",fontSize:"sm",width:"4em",children:t.displayRatio})]})]})]})}),(0,a.jsx)(ew.w,{})]},l)})]})}function eF(e){let{topkCount:n,topkLabel:l,valids:t,animation:r=!1,color:s=ek}=e;c.t1.register(c.PP,c.E8,c.kc);let i=function(e,n){let{...l}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return{responsive:!0,maintainAspectRatio:!1,indexAxis:"y",scales:{x:{display:!1,max:n,grid:{display:!1}},y:{display:!1}},plugins:{tooltip:{enabled:!1}},...l}}(n,t,{animation:r}),o=function(e){let{topkLabel:n,topkCount:l,color:t=ek}=e;return{labels:[n],datasets:[{indexAxis:"y",data:[l],backgroundColor:t,hoverBackgroundColor:t,borderWidth:0,borderColor:t,barPercentage:1,categoryPercentage:.6}]}}({topkCount:n,topkLabel:l,color:s});return(0,a.jsx)(d.yP,{data:o,options:i,plugins:[]})}let eM=(0,w.forwardRef)((e,n)=>{let{run:l}=e,[t,r]=(0,w.useState)(!0),u=l.result,c=l.params,d=u.base,m=u.current;return(0,a.jsxs)(s.s,{direction:"column",height:"100%",children:[(0,a.jsxs)(_,{ref:n,blockSize:"auto",children:[(0,a.jsxs)(eC.D,{as:"h1",size:"md",paddingTop:4,textAlign:"center",color:"gray.600",children:["Model ",c.model,".",c.column_name]}),(0,a.jsxs)(i.z,{children:[(0,a.jsx)(o.h,{}),(0,a.jsx)(eR,{topKDiff:u,valids:m.valids||0,isDisplayTopTen:t}),(0,a.jsx)(o.h,{})]})]}),(0,a.jsx)(o.h,{}),(d.values.length>10||m.values.length>10)&&(0,a.jsx)(s.s,{p:5,justify:"start",children:(0,a.jsx)(eb.N,{onClick:()=>{r(e=>!e)},colorPalette:"blue",children:t?"View More Items":"View Only Top-10"})})]})}),eA=(0,w.forwardRef)((e,n)=>{var l,t,r;let{run:i,onAddToChecklist:o,viewOptions:u,onViewOptionsChanged:c}=e,d=(0,w.useMemo)(()=>{var e;return null!=(e=null==u?void 0:u.changed_only)&&e},[u]),m=(0,w.useMemo)(()=>{var e;return null!=(e=null==u?void 0:u.pinned_columns)?e:[]},[u]),h=(0,w.useMemo)(()=>{var e;return null!=(e=null==u?void 0:u.display_mode)?e:"inline"},[u]),f=(0,w.useMemo)(()=>{var e;return null!=(e=null==u?void 0:u.columnsRenderMode)?e:{}},[u]),v=(0,w.useMemo)(()=>{var e;if(!i.result||!(null==(e=i.params)?void 0:e.primary_key))return{columns:[],rows:[]};let n=i.params.primary_key,l=Array.isArray(n)?n:[n];return ei(i.result,l,{changedOnly:d,pinnedColumns:m,onPinnedColumnsChange:e=>{c&&c({...u,pinned_columns:e})},columnsRenderMode:f,onColumnsRenderModeChanged:e=>{var n;let l={...null!=(n=null==u?void 0:u.columnsRenderMode)?n:{},...e};c&&c({...u,columnsRenderMode:l})},displayMode:h})},[i,u,d,m,h,c,f]),p=null!=(r=null==(l=i.result)?void 0:l.limit)?r:0,g=p>0&&(null==(t=i.result)?void 0:t.more)?"Warning: Displayed results are limited to ".concat(p.toLocaleString()," records. To ensure complete data retrieval, consider applying a LIMIT or WHERE clause to constrain the result set."):null,x=[];return(g&&x.push(g),0===v.columns.length)?(0,a.jsx)(E.o,{height:"100%",children:"No data"}):d&&0===v.rows.length?(0,a.jsxs)(s.s,{direction:"column",backgroundColor:"rgb(249, 249, 249)",height:"100%",children:[(0,a.jsx)(J,{run:i,viewOptions:u,onViewOptionsChanged:c,warnings:x}),(0,a.jsx)(E.o,{height:"100%",children:"No change"}),";"]}):(0,a.jsxs)(s.s,{direction:"column",backgroundColor:"rgb(249, 249, 249)",height:"100%",children:[(0,a.jsxs)(J,{run:i,viewOptions:u,onViewOptionsChanged:c,warnings:x,children:[(0,a.jsx)(ee,{displayMode:h,onDisplayModeChanged:e=>{c&&c({...u,display_mode:e})}}),(0,a.jsx)(eu,{changedOnly:null==u?void 0:u.changed_only,onChange:()=>{let e=!(null==u?void 0:u.changed_only);c&&c({...u,changed_only:e})}})]}),(0,a.jsx)(S.z,{ref:n,style:{blockSize:"auto",maxHeight:"100%",overflow:"auto"},columns:v.columns,rows:v.rows,renderers:{noRowsFallback:(0,a.jsx)(S.a,{emptyMessage:"No mismatched rows"})},defaultColumnOptions:{resizable:!0,maxWidth:800,minWidth:35},className:"rdg-light"})]})});var eT=l(83450),eO=l(61657);function eI(e){var n;let{params:l,onParamsChanged:t,setIsReadyToExecute:r}=e,[s,i]=(0,w.useState)(!l.columns||0===l.columns.length),o=l.model,c=l.primary_key,{columns:d,primaryKey:m,isLoading:h,error:f}=(0,ej.Ay)(l.model);(0,w.useEffect)(()=>{!c&&m&&t({...l,primary_key:m})},[c,m,l,t]),(0,w.useEffect)(()=>{r(!!c&&!!o)},[c,o,r]);let v=d.map(e=>e.name),p=Array.isArray(c)?c:c?[c]:void 0;return h?(0,a.jsx)(u.a,{children:"Loading..."}):0===v.length||f?(0,a.jsx)(u.a,{children:"Error: Please provide the 'catalog.json' to list column candidates"}):(0,a.jsxs)(q.T,{gap:5,m:"8px 24px",paddingBottom:"200px",children:[(0,a.jsxs)(ex.XO,{children:[(0,a.jsx)(ex.dh,{children:"Model"}),(0,a.jsx)(eT.p,{readOnly:!0,value:l.model})]}),(0,a.jsxs)(ex.XO,{children:[(0,a.jsx)(ex.dh,{children:"Primary key"}),(0,a.jsx)(eO.l6,{placeholder:"Select primary key",isMulti:!0,closeMenuOnSelect:!1,options:v.map(e=>({label:e,value:e})),value:(null!=p?p:[]).map(e=>({label:e,value:e})),onChange:e=>{t({...l,primary_key:1==e.length?e[0].value:e.map(e=>e.value)})}})]}),(0,a.jsxs)(ex.XO,{children:[(0,a.jsx)(ex.dh,{children:"Columns"}),(0,a.jsxs)(eo.y8,{marginBottom:"10px",size:"xs",checked:s,onCheckedChange:e=>{i(!!e.checked),t({...l,columns:void 0})},children:[(0,a.jsx)(eo.Ks,{}),(0,a.jsx)(eo.v7,{}),(0,a.jsx)(eo.Sb,{children:"All columns"})]}),!s&&(0,a.jsx)(eO.l6,{isMulti:!0,closeMenuOnSelect:!1,options:v.map(e=>({label:e,value:e})),value:(null!=(n=l.columns)?n:[]).map(e=>({label:e,value:e})),onChange:e=>{let n,r=e.map(e=>e.value);n=0===r.length?void 0:r,t({...l,columns:n})}})]})]})}var eD=l(90842),eL=l(91722);function eN(e){let{params:n,column:l}=e,{runAction:t}=(0,eD.tr)(),{featureToggles:r}=(0,eL.c)(),i=(e,l)=>{t("value_diff_detail",{...n,...e},l)};return(0,a.jsxs)(s.s,{children:[(0,a.jsx)(u.a,{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",children:l}),(0,a.jsx)(o.h,{}),(0,a.jsxs)(T.il,{lazyMount:!0,children:[(0,a.jsx)(T.cQ,{asChild:!0,children:(0,a.jsx)(O.K,{className:"row-context-menu",variant:"plain",size:"sm",disabled:r.disableDatabaseQuery,children:(0,a.jsx)(V.Q7K,{})})}),(0,a.jsx)(I.Z,{children:(0,a.jsx)(T.y3,{children:(0,a.jsx)(T.rm,{lineHeight:"20px",children:(0,a.jsxs)(T.Uh,{title:"Action",as:u.a,fontSize:"8pt",children:[(0,a.jsx)(T.Dr,{value:"show-mismatched-values",fontSize:"10pt",onClick:()=>{i({},{showForm:!0})},children:"Show mismatched values..."}),(0,a.jsxs)(T.Dr,{value:"show-mismatched-columns",fontSize:"10pt",onClick:()=>{i({columns:[l]},{showForm:!1})},children:["Show mismatched values for '",l,"'"]})]})})})})]})]})}let ez=(0,w.forwardRef)(function(e,n){let{run:l}=e,t=l.result,r=l.params,i=e=>{let n=e[2];return null!=n&&n<1?"diff-cell-modified":""},o=Array.isArray(r.primary_key)?r.primary_key:[r.primary_key],c=[{key:"__is_pk__",name:"",width:30,maxWidth:30,renderCell:e=>{let{row:n}=e;return(0,a.jsx)(E.o,{height:"100%",children:o.includes(String(n[0]))&&(0,a.jsx)(A.I,{as:L.IuQ})})}},{key:"0",name:"Column",resizable:!0,renderCell:e=>{let{row:n,column:l}=e;return(0,a.jsx)(eN,{column:String(n[l.key]),params:r})},cellClass:"cell-show-context-menu"},{key:"1",name:"Matched",resizable:!0,cellClass:i},{key:"2",name:"Matched %",resizable:!0,renderCell:e=>{let{column:n,row:l}=e,t=l[n.key];return(0,a.jsx)(u.a,{textAlign:"end",children:null!=t?"".concat((100*t).toFixed(2)," %"):"N/A"})},cellClass:i}];return(0,a.jsxs)(s.s,{direction:"column",gap:"5px",pt:"5px",height:"100%",children:[(0,a.jsxs)(u.a,{px:"16px",children:["Model: ",r.model,", ",t.summary.total," total (",t.summary.total-t.summary.added-t.summary.removed," common,"," ",t.summary.added," added, ",t.summary.removed," removed)"]}),(0,a.jsx)(S.z,{ref:n,style:{blockSize:"auto",maxHeight:"100%",overflow:"auto",borderBlock:"1px solid lightgray"},columns:c,rows:t.data.data,renderers:{noRowsFallback:(0,a.jsx)(S.a,{})},defaultColumnOptions:{resizable:!0},className:"rdg-light"})]})});var eV=l(66286),eP=l(73568);function eH(e){var n;let{params:l,onParamsChanged:t,setIsReadyToExecute:r}=e,[s,i]=(0,w.useState)(!l.columns||0===l.columns.length),o=l.model,{columns:c,isLoading:d,error:m}=(0,ej.Ay)(l.model);(0,w.useEffect)(()=>{r(!!o)},[o,r]);let h=c.map(e=>e.name);return d?(0,a.jsx)(u.a,{children:"Loading..."}):0===h.length||m?(0,a.jsx)(u.a,{children:"Error: Please provide the 'catalog.json' to list column candidates"}):(0,a.jsxs)(q.T,{gap:5,m:"8px 24px",paddingBottom:"200px",children:[(0,a.jsxs)(ex.XO,{children:[(0,a.jsx)(ex.dh,{children:"Model"}),(0,a.jsx)(eT.p,{readOnly:!0,value:l.model})]}),(0,a.jsxs)(ex.XO,{children:[(0,a.jsx)(ex.dh,{children:"Columns"}),(0,a.jsxs)(eo.y8,{marginBottom:"10px",checked:s,onCheckedChange:e=>{i(!!e.checked),t({...l,columns:void 0})},children:[(0,a.jsx)(eo.Ks,{}),(0,a.jsx)(eo.v7,{}),(0,a.jsx)(eo.Sb,{children:"All columns"})]}),!s&&(0,a.jsx)(eO.l6,{isMulti:!0,closeMenuOnSelect:!1,options:h.map(e=>({label:e,value:e})),value:(null!=(n=l.columns)?n:[]).map(e=>({label:e,value:e})),onChange:e=>{let n,r=e.map(e=>e.value);n=0===r.length?void 0:r,t({...l,columns:n})}})]})]})}let eB={lineage_diff:{title:"Lineage Diff",icon:t.RN4},schema_diff:{title:"Schema Diff",icon:eP.Hsw},query:{title:"Query",icon:t.RY4,RunResultView:et},query_base:{title:"Query Base",icon:t.RY4,RunResultView:et},query_diff:{title:"Query Diff",icon:t.RY4,RunResultView:em},row_count:{title:"Row Count",icon:eP.xj_,RunResultView:eg},row_count_diff:{title:"Row Count Diff",icon:eP.xj_,RunResultView:ep},profile:{title:"Profile",icon:t.W4V,RunResultView:ea,RunForm:eH},profile_diff:{title:"Profile Diff",icon:t.W4V,RunResultView:er,RunForm:eH},value_diff:{title:"Value Diff",icon:t.z76,RunResultView:ez,RunForm:eI},value_diff_detail:{title:"Value Diff Detail",icon:t.z76,RunResultView:eA,RunForm:eI},top_k_diff:{title:"Top-K Diff",icon:eV.J3A,RunResultView:eM,RunForm:function(e){let{params:n,onParamsChanged:l,setIsReadyToExecute:t}=e,{columns:r,isLoading:s,error:i}=(0,ej.Ay)(n.model),o=r.map(e=>e.name);return((0,w.useEffect)(()=>{t(!!n.column_name)},[n,t]),s)?(0,a.jsx)(u.a,{children:"Loading..."}):0===o.length||i?(0,a.jsx)(u.a,{children:"Error: Please provide the 'catalog.json' to list column candidates"}):(0,a.jsx)(u.a,{m:"16px",children:(0,a.jsxs)(ex.XO,{children:[(0,a.jsx)(ex.dh,{children:"Pick a column to show top-k"}),(0,a.jsx)(ey.MQ,{children:(0,a.jsx)(ey.uT,{placeholder:"Select column",value:n.column_name,onChange:e=>{let t=e.target.value;l({...n,column_name:t})},children:o.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})})]})})}},histogram_diff:{title:"Histogram Diff",icon:t.JKR,RunResultView:k,RunForm:r.y},sandbox:{title:"Sandbox",icon:t.wtR}},eK=e=>eB[e]},14660:(e,n,l)=>{"use strict";l.d(n,{V:()=>a});var t=l(99681);let r=t.env.NEXT_PUBLIC_API_URL;null!=r||(r=window.location.origin);let a=r,s=t.env.NEXT_PUBLIC_CLOUD_WEB_URL;null!=s||(s="https://cloud.datarecce.io")},34209:(e,n,l)=>{"use strict";l.d(n,{$U:()=>c,F7:()=>i,I:()=>a,vr:()=>o});var t=l(47299),r=l(93731);let a='select * from {{ ref("mymodel") }}',s=(0,r.createContext)({sqlQuery:a,setSqlQuery:()=>{},primaryKeys:void 0,setPrimaryKeys:()=>{},isCustomQueries:!1,setCustomQueries:()=>{},baseSqlQuery:a,setBaseSqlQuery:()=>{}});function i(e){let{children:n}=e,[l,i]=r.useState(a),[o,u]=r.useState(a),[c,d]=r.useState(!1),[m,h]=r.useState();return(0,t.jsx)(s.Provider,{value:{setSqlQuery:i,sqlQuery:l,setPrimaryKeys:h,primaryKeys:m,isCustomQueries:c,setCustomQueries:d,baseSqlQuery:o,setBaseSqlQuery:u},children:n})}let o=()=>(0,r.useContext)(s),u=(0,r.createContext)({isNodesFetching:[],setIsNodesFetching:()=>{}});function c(e){let{children:n}=e,[l,a]=r.useState([]);return(0,t.jsx)(u.Provider,{value:{isNodesFetching:l,setIsNodesFetching:a},children:n})}},47855:(e,n,l)=>{"use strict";l.d(n,{In:()=>o,Ly:()=>u,QS:()=>d,TL:()=>c,XJ:()=>m,iZ:()=>i,o$:()=>f,uH:()=>p,uz:()=>a,vD:()=>h,vM:()=>v,yk:()=>s});var t=l(23179),r=l(99681);function a(){let e=function(e){let n=document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]+)");return n?n.pop():""}("recce_user_id"),n=r.env.AMPLITUDE_API_KEY;if(e&&n)try{(0,t.Yi)(n,{analytics:{userId:e,autocapture:!0},sr:{sampleRate:1}})}catch(e){console.error(e)}}function s(e){(0,t.u4)("[Web] multi_nodes_action",e)}function i(e){(0,t.u4)("[Web] history_action",e)}function o(e){(0,t.u4)("[Experiment] preview_change",e)}function u(e){(0,t.u4)("[Experiment] preview_change",e)}function c(e){(0,t.u4)("[Experiment] single_environment",e)}function d(e){(0,t.u4)("[Experiment] recommend_preset_check",e)}function m(){return!1}function h(e){(0,t.u4)("Column level lineage",e)}function f(e){(0,t.u4)("share_state",e)}function v(e){(0,t.u4)("state_action",e)}function p(e){(0,t.u4)("[Click] copy_to_clipboard",e)}},49267:(e,n,l)=>{"use strict";l.d(n,{Ay:()=>u});var t=l(93731),r=l(83060),a=l(58716),s=l(69090),i=l.n(s);function o(e,n){let l=[];return e.forEach(e=>{l.some(n=>n.name===e.name)||l.push(e)}),n.forEach(e=>{l.some(n=>n.name===e.name)||l.push(e)}),l}let u=e=>{var n;let{lineageGraph:l}=(0,a.cE)(),[s,u]=(0,t.useState)([]),[c,d]=(0,t.useState)(),[m,h]=(0,t.useState)(!0),[f,v]=(0,t.useState)(null),p=i().find(null==l?void 0:l.nodes,{name:e}),g=(0,t.useMemo)(()=>p?function(e){function n(e){return(null==e?void 0:e.columns)?Object.values(e.columns):[]}return o(n(e.data.base),n(e.data.current))}(p):[],[p]),x=p?null==(n=p.data.current)?void 0:n.primary_key:void 0,y=(0,t.useCallback)(async()=>{try{let e=(await (0,r.mA)(null==p?void 0:p.id)).model;if(!e.base.columns||!e.current.columns)return void u([]);d(e.current.primary_key);let n=Object.values(e.base.columns),l=Object.values(e.current.columns);u(o(n,l))}catch(e){v(e)}},[null==p?void 0:p.id]);return(0,t.useEffect)(()=>{g.length>0?(u(g),d(x)):(null==p?void 0:p.id)===void 0?u([]):y().catch(e=>{}),h(!1)},[y,null==p?void 0:p.id,g,x]),{columns:s,primaryKey:c,isLoading:m,error:f}}},52994:(e,n,l)=>{"use strict";l.d(n,{$M:()=>i,Qf:()=>u,Ve:()=>c,X2:()=>d,Zp:()=>m,yc:()=>o});var t=l(69360),r=l(96028),a=l(37023),s=l.n(a);let i=20;function o(e,n,l){var t,r,a,s,i,o,u,c;let d={},m={},h=(e,n)=>({id:e,name:e,data:{},from:n,parents:{},children:{}});for(let[n,l]of Object.entries(e.nodes))d[n]=h(n,"base"),l&&(d[n].data.base=l,d[n].name=l.name,d[n].resourceType=l.resource_type,d[n].packageName=l.package_name);for(let[e,l]of Object.entries(n.nodes))d[e]?d[e].from="both":d[e]=h(e,"current"),l&&(d[e].data.current=n.nodes[e],d[e].name=l.name,d[e].resourceType=l.resource_type,d[e].packageName=l.package_name);for(let[n,l]of Object.entries(e.parent_map))for(let e of l){let l=d[n],t=d[e],r="".concat(e,"_").concat(n);if(!l||!t)continue;m[r]={id:r,from:"base",parent:t,child:l};let a=m[r];l.parents[e]=a,t.children[n]=a}for(let[e,l]of Object.entries(n.parent_map))for(let n of l){let l=d[e],t=d[n],r="".concat(n,"_").concat(e);if(!l||!t)continue;m[r]?m[r].from="both":m[r]={id:r,from:"current",parent:t,child:l};let a=m[r];l.parents[n]=a,t.children[e]=a}let f=[];for(let[e,n]of Object.entries(d)){let i=null==l?void 0:l[e];if(i)n.changeStatus=i.change_status,i.change&&(n.change={category:i.change.category,columns:i.change.columns}),f.push(e);else if("base"===n.from)n.changeStatus="removed",f.push(n.id);else if("current"===n.from)n.changeStatus="added",f.push(n.id);else{let e=null==(r=n.data.base)||null==(t=r.checksum)?void 0:t.checksum,l=null==(s=n.data.current)||null==(a=s.checksum)?void 0:a.checksum;e&&l&&e!==l&&(n.changeStatus="modified",f.push(n.id))}}for(let[e,n]of Object.entries(m))"base"===n.from?n.changeStatus="removed":"current"===n.from&&(n.changeStatus="added");return{nodes:d,edges:m,modifiedSet:f,manifestMetadata:{base:null!=(i=e.manifest_metadata)?i:void 0,current:null!=(o=n.manifest_metadata)?o:void 0},catalogMetadata:{base:null!=(u=e.catalog_metadata)?u:void 0,current:null!=(c=n.catalog_metadata)?c:void 0}}}function u(e,n){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return(0,r.zY)(n,n=>void 0===e.nodes[n]?[]:Object.keys(e.nodes[n].parents),l)}function c(e,n){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;return(0,r.zY)(n,n=>void 0===e.nodes[n]?[]:Object.keys(e.nodes[n].children),l)}function d(e,n){let l=[],r=[],{selectedNodes:a,cll:s}=null!=n?n:{},o={};function u(e){return"base"===e?0:"current"===e?2:1}function c(e,n){let l=u(e.from),t=u(n.from);return l<t?-1:+(l>t)}let d=void 0!==a?new Set(a):void 0;for(let n of Object.values(e.nodes).sort(c)){if(d&&!d.has(n.id))continue;let e=new Set,a=0;if(s){var h,f,v,p,g,x,y;for(let e of null!=(v=null==s||null==(h=s.current)?void 0:h.parent_map[n.id])?v:new Set){let l=n.id;r.push({id:"m2c_".concat(e,"_").concat(l),source:e,target:l,style:{zIndex:9999}})}for(let o of Object.keys(null!=(p=null==(f=n.data.current)?void 0:f.columns)?p:{})){let u="".concat(n.id,"_").concat(o),c=null==s||null==(g=s.current)?void 0:g.columns[u],d=null!=(y=null==s||null==(x=s.current)?void 0:x.parent_map[u])?y:new Set;if(null!=c){for(let e of(l.push({id:u,position:{x:10,y:70+a*i},parentId:n.id,extent:"parent",draggable:!1,className:"no-track-pii-safe",data:{node:n,column:c.name,type:c.type,transformationType:c.transformation_type,changeStatus:c.change_status},style:{zIndex:9999},type:"customColumnNode",targetPosition:t.yX.Left,sourcePosition:t.yX.Right}),d))r.push({id:"".concat(e,"_").concat(u),source:e,target:u,style:{zIndex:9999}});a++,e.add(c.name)}}}o[n.id]=e;let u=60;a>0&&(u+=20+a*i),l.push({id:n.id,position:{x:0,y:0},width:300,height:u,className:"no-track-pii-safe",data:{...n},type:"customNode",targetPosition:t.yX.Left,sourcePosition:t.yX.Right})}for(let n of Object.values(e.edges).sort(c))(!d||d.has(n.parent.id)&&d.has(n.child.id))&&r.push({id:n.id,type:"customEdge",source:n.parent.id,target:n.child.id,data:n});return m(l,r),[l,r,o]}let m=function(e,n){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"LR",t=new(s()).graphlib.Graph;t.setDefaultEdgeLabel(()=>({})),t.setGraph({rankdir:l,ranksep:50,nodesep:30}),e.forEach(e=>{"customNode"===e.type&&t.setNode(e.id,{width:e.width,height:e.height})}),n.forEach(e=>{t.setEdge(e.source,e.target)}),s().layout(t),e.forEach(e=>{var n,l;if("customNode"!==e.type)return;let r=null!=(n=e.width)?n:300,a=null!=(l=e.height)?l:60,s=t.node(e.id);return e.position={x:s.x-r/2,y:s.y-a/2},e})}},56309:(e,n,l)=>{"use strict";l.d(n,{J:()=>i,d:()=>s});var t=l(47299),r=l(93731);let a=(0,r.createContext)({latestSelectedCheckId:"",setLatestSelectedCheckId:()=>{}});function s(e){let{children:n}=e,[l,s]=r.useState("");return(0,t.jsx)(a.Provider,{value:{setLatestSelectedCheckId:s,latestSelectedCheckId:l},children:n})}let i=()=>(0,r.useContext)(a)},58716:(e,n,l)=>{"use strict";l.d(n,{kL:()=>M,cE:()=>A,JL:()=>T});var t=l(47299),r=l(52994),a=l(13412),s=l(14836),i=l(93731),o=l(76230),u=l(83060),c=l(6887),d=l(66244),m=l(39379),h=l(17999),f=l(60117),v=l(68960),p=l(14660),g=l(99795),x=l.n(g),y=l(75210),j=l(97890),C=l(99072),b=l(91722),w=l(47855),_=l(20998),k=l.n(_);function E(e){let{connect:n}=e;return(0,t.jsxs)(d.Cf,{children:[(0,t.jsx)(d.c7,{children:(0,t.jsx)(d.L3,{children:"Server Disconnected"})}),(0,t.jsx)(d.R4,{children:(0,t.jsx)(h.E,{children:"The server connection has been lost. Please restart the Recce server and try again."})}),(0,t.jsx)(d.Es,{children:(0,t.jsx)(f.$,{colorPalette:"iochmara",onClick:()=>{n()},children:"Retry"})}),(0,t.jsx)(d.tK,{asChild:!0,children:(0,t.jsx)(v.J,{size:"sm"})})]})}function S(e){let{shareUrl:n,mode:l}=e,r={"read only":{title:"Share Instance Expired",body:"This Share Instance has expired. Please restart the share instance.",action:"Restart",link:n},"preview mode":{title:"Preview Instance Expired",body:"This Preview Instance has expired. To browse more, please book a meeting with us.",action:"Contact us",link:"https://reccehq.com/demo/"}}[l];return(0,t.jsxs)(d.Cf,{children:[(0,t.jsx)(d.c7,{children:(0,t.jsx)(d.L3,{children:r.title})}),(0,t.jsx)(d.R4,{children:(0,t.jsx)(h.E,{children:r.body})}),(0,t.jsx)(d.Es,{children:"read only"===l?(0,t.jsx)(k(),{href:r.link,passHref:!0,children:(0,t.jsx)(f.$,{colorPalette:"blue",children:r.action})}):(0,t.jsx)(f.$,{colorPalette:"blue",onClick:()=>window.open(r.link,"_blank"),children:r.action})})]})}var R=l(88779);let F=(0,i.createContext)({isActionAvailable:()=>!0});function M(e){var n,l;let{children:g}=e,_=(0,s.I)({queryKey:o.X.lineage(),queryFn:u.y8}),k=(0,s.I)({queryKey:o.X.runsAggregated(),queryFn:y.a1}),M=(0,i.useMemo)(()=>{var e;let n=null==(e=_.data)?void 0:e.lineage;if((null==n?void 0:n.base)&&n.current)return(0,r.yc)(n.base,n.current,n.diff)},[_.data]),A=null==(n=_.error)?void 0:n.message,{state_metadata:T,lineage:O,sqlmesh:I,demo:D,review_mode:L,cloud_mode:N,file_mode:z,filename:V,adapter_type:P,git:H,pull_request:B,support_tasks:K}=null!=(l=_.data)?l:{},U=null==O?void 0:O.base.manifest_metadata,W=null==O?void 0:O.current.manifest_metadata,{connectionStatus:X,connect:Z,envStatus:Q}=function(){let[e,n]=(0,i.useState)(void 0),l=(0,i.useRef)({ws:void 0,status:"pending"}),[t,r]=(0,i.useState)("pending"),[s,u]=(0,i.useState)(void 0);l.current.status=t;let c=(0,a.jE)(),d=()=>{c.invalidateQueries({queryKey:o.X.lineage()}),c.invalidateQueries({queryKey:o.X.checks()}),c.invalidateQueries({queryKey:o.X.runs()})},m=()=>{let t=new WebSocket("".concat(p.V.replace(/(http)(s)?:\/\//,"ws$2://"),"/api/ws"));l.current.ws=t,t.onopen=()=>{t.send("ping")},t.onmessage=t=>{if("pong"===t.data){"disconnected"===l.current.status&&d(),r("connected");return}try{let l=JSON.parse(t.data);if("refresh"===l.command){let{eventType:t,srcPath:r}=l.event,[a,s]=r.split("/").slice(-2),i=x().parse(s).name,o="".concat(a,"-").concat(i,"-").concat(t);null==e&&n(R.X.create({id:o,description:"Detected ".concat(a," ").concat(i," ").concat(t),type:"info",duration:5e3,closable:!0})),d()}else if("relaunch"===l.command)u("relaunch");else{let{id:e,title:t,description:r,status:a,position:s,duration:i}=l.event;n(R.X.create({id:e||"broadcast",title:t,description:r,type:null!=a?a:"info",duration:null!=i?i:5e3,closable:!0}))}}catch(e){console.error(e)}},t.onerror=e=>{console.error(e)},t.onclose=()=>{r(e=>"connected"===e?"disconnected":e),l.current.ws=void 0}};return(0,i.useEffect)(()=>{let e=l.current;return m(),()=>{e.ws&&e.ws.close()}},[]),{connectionStatus:t,connect:m,envStatus:s}}(),{data:q,isLoading:J}=(0,C.T)(),{featureToggles:Y,shareUrl:$}=(0,b.c)(),{onClose:G}=(0,c.j)(),[ee,en]=(0,i.useState)(!1),el=(0,a.jE)(),et=(0,i.useCallback)(e=>{if(K){var n;return null==(n=K[e])||n}return!0},[K]);return(0,i.useEffect)(()=>{J||("relaunch"===Q&&(null==q?void 0:q.single_env_onboarding)&&q.show_relaunch_hint?(en(!0),(0,w.TL)({action:"target_base_added"})):en(!1))},[q,Q,J]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F.Provider,{value:{lineageGraph:M,retchLineageGraph:()=>{k.refetch()},envInfo:{stateMetadata:T,adapterType:P,git:H,pullRequest:B,dbt:{base:U,current:W},sqlmesh:I},reviewMode:L,cloudMode:N,fileMode:z,fileName:V,isDemoSite:D,error:A,supportTasks:K,isActionAvailable:et,isLoading:_.isLoading,runsAggregated:k.data,refetchRunsAggregated:()=>{k.refetch()}},children:g}),(0,t.jsx)(d.Dz,{open:"disconnected"===X,onOpenChange:()=>{},placement:"center",children:(0,t.jsxs)(m.Z,{children:[(0,t.jsx)(d.Xi,{}),(0,t.jsx)(d.f5,{children:$&&null!==Y.mode?(0,t.jsx)(S,{shareUrl:$,mode:Y.mode}):(0,t.jsx)(E,{connect:Z})})]})}),(null==q?void 0:q.single_env_onboarding)&&(0,t.jsx)(d.Dz,{open:ee,onOpenChange:()=>{G(),(0,j.YH)(),el.invalidateQueries({queryKey:o.X.flag()})},placement:"center",children:(0,t.jsxs)(m.Z,{children:[(0,t.jsx)(d.Xi,{}),(0,t.jsx)(d.f5,{children:(0,t.jsxs)(d.Cf,{children:[(0,t.jsx)(d.c7,{children:(0,t.jsx)(d.L3,{children:"Target-base Added"})}),(0,t.jsx)(d.R4,{children:(0,t.jsx)(h.E,{children:"Please restart the Recce server."})}),(0,t.jsx)(d.Es,{children:(0,t.jsx)(f.$,{colorPalette:"blue",onClick:()=>{G(),(0,j.YH)(),el.invalidateQueries({queryKey:o.X.flag()})},children:"Got it!"})}),(0,t.jsx)(d.tK,{asChild:!0,children:(0,t.jsx)(v.J,{size:"sm"})})]})})]})})]})}let A=()=>(0,i.useContext)(F),T=()=>{let{runsAggregated:e,refetchRunsAggregated:n}=A();return[e,n]}},73149:(e,n,l)=>{"use strict";l.d(n,{$k:()=>u,$w:()=>s,N_:()=>o,Uh:()=>a,Z3:()=>c,sp:()=>i,x:()=>d});var t=l(66892),r=l(6297);async function a(e){return(await r.g.post("/api/save-as",e)).data}async function s(e){return(await r.g.post("/api/rename",e)).data}async function i(){return(await r.g.post("/api/export")).data}async function o(e,n){let l=new FormData;return l.append("file",e),l.append("checks_only",(!!n).toString()),(await r.g.post("/api/import",l)).data}async function u(){return 208===(await r.g.get("/api/sync")).status}async function c(e){try{let n=await r.g.post("/api/sync",e);if(202===n.status)return{status:"accepted"};if(208===n.status)return{status:"syncing"}}catch(e){if((0,t.F0)(e)&&e.response&&409===e.response.status)return{status:"conflict"}}throw Error("Failed to sync state")}async function d(){return(await r.g.post("/api/share")).data}},75210:(e,n,l)=>{"use strict";l.d(n,{AU:()=>a,Su:()=>i,Zc:()=>s,a1:()=>d,gM:()=>o,v:()=>c,xz:()=>u});var t=l(6297),r=l(47855);async function a(e,n,l){let a=(null==l?void 0:l.trackProps)?{...l.trackProps}:{};return(0,r.XJ)()&&(a.breaking_change_analysis=!0),(await t.g.post("/api/runs",{type:e,params:n,nowait:null==l?void 0:l.nowait,track_props:a})).data}async function s(e,n){return(await t.g.get("/api/runs/".concat(e,"/wait"),{params:{timeout:n}})).data}async function i(e){return await t.g.post("/api/runs/".concat(e,"/cancel"))}async function o(e,n){return(await t.g.post("/api/checks/".concat(e,"/run"),{nowait:null==n?void 0:n.nowait})).data}async function u(e,n,l){return(await t.g.post("/api/runs/search",{type:e,params:n,limit:l})).data}async function c(){return(await t.g.get("/api/runs")).data}async function d(){return(await t.g.post("/api/runs/aggregate",{})).data}},76230:(e,n,l)=>{"use strict";l.d(n,{X:()=>t});let t={rowCount:e=>["row_count",e],lineage:()=>["lineage"],checks:()=>["checks","list"],check:e=>["checks",e],runs:()=>["runs"],run:e=>["runs",e],runsAggregated:()=>["runs_aggregated"],flag:()=>["flag"],instanceInfo:()=>["instance_info"]}},82170:(e,n,l)=>{"use strict";l.d(n,{q:()=>a});var t=l(97360),r=l(31572);let a=(0,t.m)(r.sb,{preflight:{scope:".chakra-style-reset"},theme:{tokens:{colors:{iochmara:{50:{value:"#EAF3FB"},100:{value:"#C4DDF3"},200:{value:"#9EC6EB"},300:{value:"#79B0E2"},400:{value:"#5599D8"},DEFAULT:{value:"#3182CE"},500:{value:"#3182CE"},600:{value:"#2A6CA7"},700:{value:"#225581"},800:{value:"#193E5C"},900:{value:"#102638"},950:{value:"#060E14"}},cyan:{50:{value:"#ECFEFF"},100:{value:"#CFFAFE"},200:{value:"#A5F3FC"},300:{value:"#67E8F9"},400:{value:"#22D3EE"},DEFAULT:{value:"#06B6D4"},500:{value:"#06B6D4"},600:{value:"#0891B2"},700:{value:"#0E7490"},800:{value:"#155E75"},900:{value:"#164E63"},950:{value:"#083344"}},neutral:{50:{value:"#FAFAFA"},100:{value:"#F5F5F5"},200:{value:"#E5E5E5"},300:{value:"#D4D4D4"},400:{value:"#A3A3A3"},DEFAULT:{value:"#737373"},500:{value:"#737373"},600:{value:"#525252"},700:{value:"#404040"},800:{value:"#262626"},900:{value:"#171717"},950:{value:"#0A0A0A"}},amber:{50:{value:"#FFFBEB"},100:{value:"#FEF3C7"},200:{value:"#FDE68A"},300:{value:"#FCD34D"},400:{value:"#FBBF24"},DEFAULT:{value:"#F59E0B"},500:{value:"#F59E0B"},600:{value:"#D97706"},700:{value:"#B45309"},800:{value:"#92400E"},900:{value:"#78350F"},950:{value:"#431407"}},green:{50:{value:"#F0FDF4"},100:{value:"#DCFCE7"},200:{value:"#BBF7D0"},300:{value:"#86EFAC"},400:{value:"#4ADE80"},DEFAULT:{value:"#22C55E"},500:{value:"#22C55E"},600:{value:"#16A34A"},700:{value:"#15803D"},800:{value:"#166534"},900:{value:"#14532D"},950:{value:"#052E16"}},red:{50:{value:"#FEF2F2"},100:{value:"#FEE2E2"},200:{value:"#FECACA"},300:{value:"#FCA5A5"},400:{value:"#F87171"},DEFAULT:{value:"#EF4444"},500:{value:"#EF4444"},600:{value:"#DC2626"},700:{value:"#B91C1C"},800:{value:"#991B1B"},900:{value:"#7F1D1D"},950:{value:"#450A0A"}},rose:{50:{value:"#FFF1F2"},100:{value:"#FFE4E6"},200:{value:"#FECDD3"},300:{value:"#FDA4AF"},400:{value:"#FB7185"},DEFAULT:{value:"#F43F5E"},500:{value:"#F43F5E"},600:{value:"#E11D48"},700:{value:"#BE123C"},800:{value:"#9F1239"},900:{value:"#881337"},950:{value:"#4C0519"}},brand:{50:{value:"#FFDED5"},100:{value:"#FFC1B0"},200:{value:"#FFA58C"},300:{value:"#FF8967"},400:{value:"#FF6E42"},DEFAULT:{value:"#FD541E"},500:{value:"#FD541E"},600:{value:"#F04104"},700:{value:"#C93A06"},800:{value:"#A23206"},900:{value:"#7C2906"},950:{value:"#571E05"}}}},semanticTokens:{colors:{iochmara:{solid:{value:"{colors.iochmara.500}"},contrast:{value:"{colors.white}"},fg:{value:"{colors.iochmara.700}"},subtle:{value:"{colors.iochmara.100}"},muted:{value:"{colors.iochmara.200}"},emphasized:{value:"{colors.iochmara.300}"},focusRing:{value:"{colors.iochmara.400}"}},cyan:{solid:{value:"{colors.cyan.600}"},contrast:{value:"{colors.white}"},fg:{value:"{colors.cyan.700}"},subtle:{value:"{colors.cyan.100}"},muted:{value:"{colors.cyan.200}"},emphasized:{value:"{colors.cyan.300}"},focusRing:{value:"{colors.cyan.500}"}},neutral:{solid:{value:"{colors.neutral.900}"},contrast:{value:"{colors.white}"},fg:{value:"{colors.neutral.800}"},subtle:{value:"{colors.neutral.100}"},muted:{value:"{colors.neutral.200}"},emphasized:{value:"{colors.neutral.300}"},focusRing:{value:"{colors.neutral.400}"}},green:{solid:{value:"{colors.green.600}"},contrast:{value:"{colors.white}"},fg:{value:"{colors.green.700}"},subtle:{value:"{colors.green.100}"},muted:{value:"{colors.green.200}"},emphasized:{value:"{colors.green.300}"},focusRing:{value:"{colors.green.500}"}},amber:{solid:{value:"{colors.amber.500}"},contrast:{value:"{colors.white}"},fg:{value:"{colors.amber.700}"},subtle:{value:"{colors.amber.100}"},muted:{value:"{colors.amber.200}"},emphasized:{value:"{colors.amber.300}"},focusRing:{value:"{colors.amber.400}"}},red:{solid:{value:"{colors.red.600}"},contrast:{value:"{colors.white}"},fg:{value:"{colors.red.700}"},subtle:{value:"{colors.red.100}"},muted:{value:"{colors.red.200}"},emphasized:{value:"{colors.red.300}"},focusRing:{value:"{colors.red.500}"}},rose:{solid:{value:"{colors.rose.500}"},contrast:{value:"{colors.white}"},fg:{value:"{colors.rose.700}"},subtle:{value:"{colors.rose.100}"},muted:{value:"{colors.rose.200}"},emphasized:{value:"{colors.rose.300}"},focusRing:{value:"{colors.rose.400}"}},brand:{solid:{value:"{colors.brand.500}"},contrast:{value:"{colors.white}"},fg:{value:"{colors.brand.700}"},subtle:{value:"{colors.brand.100}"},muted:{value:"{colors.brand.200}"},emphasized:{value:"{colors.brand.300}"},focusRing:{value:"{colors.brand.500}"}},blue:{solid:{value:"{colors.iochmara.500}"},contrast:{value:"{colors.white}"},fg:{value:"{colors.iochmara.700}"},subtle:{value:"{colors.iochmara.100}"},muted:{value:"{colors.iochmara.200}"},emphasized:{value:"{colors.iochmara.300}"},focusRing:{value:"{colors.iochmara.400}"}},gray:{solid:{value:"{colors.neutral.900}"},contrast:{value:"{colors.white}"},fg:{value:"{colors.neutral.800}"},subtle:{value:"{colors.neutral.100}"},muted:{value:"{colors.neutral.200}"},emphasized:{value:"{colors.neutral.300}"},focusRing:{value:"{colors.neutral.400}"}},success:{value:"{colors.green}"},warning:{value:"{colors.amber}"},danger:{value:"{colors.red}"}}}}})},83037:()=>{},83060:(e,n,l)=>{"use strict";l.d(n,{mA:()=>a,y8:()=>r});var t=l(6297);async function r(){return(await t.g.get("/api/info")).data}async function a(e){return(await t.g.get("/api/model/".concat(e))).data}},86989:(e,n,l)=>{"use strict";l.d(n,{l:()=>o,p:()=>i});var t=l(47299),r=l(93731),a=l(73149);let s=(0,r.createContext)(void 0);function i(e){let{children:n}=e,[l,i]=(0,r.useState)(),[o,u]=(0,r.useState)(!1),[c,d]=(0,r.useState)(),m=async()=>{u(!0),d(void 0),i(void 0);try{let e=await (0,a.x)();if("success"!==e.status)return void d(e.message);i(e.share_url)}catch(e){d(e.message)}finally{u(!1)}};return(0,t.jsx)(s.Provider,{value:{shareUrl:l,isLoading:o,error:c,handleShareClick:m},children:n})}let o=()=>{let e=(0,r.useContext)(s);if(!e)throw Error("useRecceShareStateContext must be used within a RecceShareStateContextProvider");return e}},88415:(e,n,l)=>{"use strict";function t(e,n){let l=[...e],t=[...n],r=[];for(;l.length>0&&t.length>0;)if(r.includes(l[0]))l.shift();else if(r.includes(t[0]))t.shift();else if(l[0]===t[0])r.push(l[0]),l.shift(),t.shift();else if(t.includes(l[0])){let e=t.indexOf(l[0]);for(let n=0;n<e;n++)r.includes(t[n])||r.push(t[n]);r.push(l[0]),l.shift(),t.splice(0,e+1)}else r.push(l[0]),l.shift();return l.forEach(e=>{r.includes(e)||r.push(e)}),t.forEach(e=>{r.includes(e)||r.push(e)}),r}function r(e,n){let l=t(e,n),r={};for(let t of l)e.includes(t)?n.includes(t)?r[t]=void 0:r[t]="removed":r[t]="added";let a={};e.forEach((e,n)=>{a[e]=n});let s=-1;for(let e of l){let n=a[e];null!=n&&(n>s?s=n:r[e]="reordered")}return r}l.d(n,{Z:()=>t,l:()=>r})},88779:(e,n,l)=>{"use strict";l.d(n,{X:()=>u,l:()=>c});var t=l(47299),r=l(5831),a=l(39379),s=l(34488),i=l(10677),o=l(5870);let u=(0,r.j)({placement:"bottom-end",pauseOnPageIdle:!0}),c=()=>(0,t.jsx)(a.Z,{children:(0,t.jsx)(s.l$,{toaster:u,insetInline:{mdDown:"4"},children:e=>(0,t.jsxs)(s.mk,{width:{md:"sm"},children:["loading"===e.type?(0,t.jsx)(i.y,{size:"sm",color:"blue.solid"}):(0,t.jsx)(s.Lv,{}),(0,t.jsxs)(o.B,{gap:"1",flex:"1",maxWidth:"100%",children:[e.title&&(0,t.jsx)(s.Sb,{children:e.title}),e.description&&(0,t.jsx)(s.aD,{children:e.description})]}),e.action&&(0,t.jsx)(s.gC,{children:e.action.label}),e.closable&&(0,t.jsx)(s.k1,{})]})})})},90842:(e,n,l)=>{"use strict";l.d(n,{dZ:()=>k,tr:()=>E});var t=l(47299),r=l(93731),a=l(66244),s=l(39379),i=l(64958),o=l(93377),u=l(37077),c=l(12539),d=l(68960),m=l(90973),h=l(92125),f=l(60117),v=l(8399);let p=e=>{let{isOpen:n,onClose:l,onExecute:p,type:g,title:x,params:y,RunForm:j}=e,[C,b]=(0,r.useState)(y),[w,_]=(0,r.useState)(!1),[k,E]=(0,r.useState)(!1),S={value_diff:"https://docs.datarecce.io/features/lineage/#value-diff",profile_diff:"https://docs.datarecce.io/features/lineage/#profile-diff",histogram_diff:"https://docs.datarecce.io/features/lineage/#histogram-diff",top_k_diff:"https://docs.datarecce.io/features/lineage/#top-k-diff"}[g]||null;return(0,t.jsx)(a.Dz,{open:n,onOpenChange:l,size:"xl",scrollBehavior:"inside",children:(0,t.jsxs)(s.Z,{children:[(0,t.jsx)(a.Xi,{}),(0,t.jsx)(a.f5,{children:(0,t.jsxs)(a.Cf,{overflowY:"auto",height:"75%",minHeight:"400px",children:[(0,t.jsxs)(a.c7,{children:[(0,t.jsxs)(a.L3,{display:"flex",alignItems:"center",children:[x," ",S&&(0,t.jsxs)(i.yt,{positioning:{placement:"bottom-end"},open:w,onFocusOutside:()=>{_(!1)},children:[(0,t.jsx)(i.Wv,{asChild:!0,children:(0,t.jsx)(o.K,{display:"flex",size:"sm",variant:"plain","aria-label":"Click this button to learn more about the SQL behind",onMouseEnter:()=>{_(!0)},onClick:()=>window.open(S,"_blank"),onFocus:e=>{e.preventDefault()},children:(0,t.jsx)(u.I,{verticalAlign:"middle",as:v.G_,boxSize:"16px"})})}),(0,t.jsx)(i.Ug,{children:(0,t.jsx)(i.hl,{bg:"black",color:"white",children:(0,t.jsxs)(i.ej,{fontSize:"sm",p:2,children:["Click"," ",(0,t.jsx)(c.N,{href:S,target:"_blank",textDecoration:"underline",color:"white",_hover:{color:"blue.300"},children:"here"})," ","to learn more about the SQL behind"]})})})]})]}),(0,t.jsx)(a.tK,{asChild:!0,children:(0,t.jsx)(d.J,{size:"sm"})})]}),(0,t.jsx)(a.R4,{p:"0px",h:"100%",overflow:"auto",borderY:"1px solid lightgray",children:(0,t.jsx)(m.a,{style:{contain:"layout"},children:j&&(0,t.jsx)(j,{params:C,onParamsChanged:b,setIsReadyToExecute:E})})}),(0,t.jsx)(a.Es,{children:(0,t.jsx)(h.s,{gap:"10px",children:(0,t.jsx)(f.$,{disabled:!k,colorPalette:"blue",onClick:()=>{p(g,C)},children:"Execute"})})})]})})]})})};var g=l(6887),x=l(35860),y=l(75210),j=l(9466),C=l(13412),b=l(76230),w=l(88779);let _=(0,r.createContext)({runAction:()=>{},showRunId:e=>{},isRunResultOpen:!1,closeRunResult:()=>{},isHistoryOpen:!1,closeHistory:()=>{},showHistory:()=>{},clearRunResult:()=>{}});function k(e){var n;let{children:l}=e,[a,s]=(0,r.useState)(),{open:i,onOpen:o,onClose:u}=(0,g.j)(),{open:c,onOpen:d,onClose:m}=(0,g.j)(),{open:h,onOpen:f,onClose:v}=(0,g.j)(),[k,E]=(0,r.useState)(),[S,R]=(0,x.zy)(),F=(0,C.jE)(),M=(0,r.useCallback)(async(e,n)=>{E(e),d(),!1!==n&&await F.invalidateQueries({queryKey:b.X.runs()})},[E,d,F]),A=(0,r.useCallback)(()=>{E(void 0),m()},[m,E]),T=(0,r.useCallback)(async(e,n,l)=>{try{let t,r=new Date().getTime().toString();if(null==l?void 0:l.showLast){let l=await (0,y.xz)(e,n,1);1===l.length&&(t=l[0])}let a=(0,j.C)(e);if(void 0===a)throw Error("Unknown run type: ".concat(e));let{title:i,RunResultView:u,RunForm:c}=a;if(void 0===u)throw Error("Run type ".concat(e," does not have a result view"));if(void 0!=c&&(null==l?void 0:l.showForm))s({session:r,title:i,type:e,params:n,lastRun:t,options:l,RunForm:c}),o();else{let{run_id:t}=await (0,y.AU)(e,n,{nowait:!0,trackProps:null==l?void 0:l.trackProps});await M(t),await F.invalidateQueries({queryKey:b.X.runs()}),S.startsWith("/lineage")&&R("/lineage")}}catch(e){w.X.create({title:"Failed to submit a run",description:e instanceof Error?e.message:void 0,type:"error",duration:5e3,closable:!0})}},[s,o,M,S,R,F]),[O]=(0,x.zy)();(0,r.useEffect)(()=>{u()},[u,O]);let I=async(e,n)=>{try{var l;u();let{run_id:t}=await (0,y.AU)(e,n,{nowait:!0,trackProps:null==a||null==(l=a.options)?void 0:l.trackProps});await M(t)}catch(e){w.X.create({title:"Failed to submit a run",description:e instanceof Error?e.message:void 0,type:"error",duration:5e3,closable:!0})}};return(0,t.jsxs)(_.Provider,{value:{runAction:T,runId:k,showRunId:M,isRunResultOpen:c,closeRunResult:m,isHistoryOpen:h,closeHistory:v,showHistory:f,clearRunResult:A},children:[a&&(0,t.jsx)(p,{isOpen:i,onClose:u,onExecute:I,title:a.title,type:a.type,params:a.params,initialRun:a.lastRun,RunForm:(null==(n=a.options)?void 0:n.showForm)&&a.RunForm?a.RunForm:void 0},a.session),l]})}let E=()=>(0,r.useContext)(_)},91722:(e,n,l)=>{"use strict";l.d(n,{R:()=>d,c:()=>m});var t=l(47299),r=l(93731),a=l(14836),s=l(76230),i=l(6297);async function o(){return(await i.g.get("/api/instance-info")).data}let u={mode:null,disableSaveToFile:!1,disableExportStateFile:!1,disableImportStateFile:!1,disableUpdateChecklist:!1,disableDatabaseQuery:!1,disableViewActionDropdown:!1,disableNodeActionDropdown:!1,disableShare:!1},c=(0,r.createContext)({singleEnv:!1,authed:!1,lifetimeExpiredAt:void 0,featureToggles:u,shareUrl:void 0});function d(e){let{children:n}=e,{data:l,isLoading:i}=(0,a.I)({queryKey:s.X.instanceInfo(),queryFn:o}),[d,m]=(0,r.useState)(u),[h,f]=(0,r.useState)(!1),[v,p]=(0,r.useState)(!1),[g,x]=(0,r.useState)(),[y,j]=(0,r.useState)();return(0,r.useEffect)(()=>{!i&&l&&(f(l.single_env),p(l.authed),j(l.share_url),l.lifetime_expired_at&&(x(new Date(l.lifetime_expired_at)),console.log("lifetime expired at",l.lifetime_expired_at)),"read-only"===l.server_mode?(u.mode="read only",u.disableSaveToFile=!0,u.disableExportStateFile=!0,u.disableImportStateFile=!0,u.disableUpdateChecklist=!0,u.disableDatabaseQuery=!0,u.disableViewActionDropdown=!0,u.disableNodeActionDropdown=!0,u.disableShare=!0):"preview"===l.server_mode&&(u.mode="preview mode",u.disableSaveToFile=!0,u.disableExportStateFile=!0,u.disableImportStateFile=!0,u.disableUpdateChecklist=!1,u.disableDatabaseQuery=!0,u.disableViewActionDropdown=!1,u.disableNodeActionDropdown=!1,u.disableShare=!0),l.single_env&&(u.disableUpdateChecklist=!0,u.disableShare=!0),m(u))},[l,i]),(0,t.jsx)(c.Provider,{value:{featureToggles:d,singleEnv:h,authed:v,lifetimeExpiredAt:g,shareUrl:y},children:n})}let m=()=>(0,r.useContext)(c)},96028:(e,n,l)=>{"use strict";function t(e,n){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,t=new Set,r={},a=(e,l)=>{if(!(l<0)&&(null==r[e]||!(r[e]>=l))){for(let t of(r[e]=l,n(e)))a(t,l-1);t.add(e)}};for(let n of e)a(n,l);return t}function r(){for(var e=arguments.length,n=Array(e),l=0;l<e;l++)n[l]=arguments[l];let t=new Set;return n.forEach(e=>{e.forEach(e=>{t.add(e)})}),t}l.d(n,{KC:()=>r,zY:()=>t})},96984:(e,n,l)=>{"use strict";l.d(n,{a:()=>o,z:()=>i});var t=l(47299);l(24754);var r=l(52872),a=l(92125),s=l(17999);let i=(0,l(93731).forwardRef)((e,n)=>{let{...l}=e;return(0,t.jsx)(r.zh,{ref:n,className:l.className?l.className+"no-track-pii-safe":"no-track-pii-safe",rowClass:()=>"no-track-pii-safe",...l})});function o(e){let{emptyMessage:n}=e;return(0,t.jsx)(a.s,{h:"35px",alignItems:"center",justifyContent:"center",bg:"gray.100",style:{textAlign:"center",gridColumn:"1/-1"},children:(0,t.jsxs)(s.E,{fontWeight:"600",children:[" ",null!=n?n:"No rows"]})})}},97498:(e,n,l)=>{"use strict";l.d(n,{m:()=>s});var t=l(47299),r=l(60708),a=l(39379);let s=l(93731).forwardRef(function(e,n){let{showArrow:l,children:s,disabled:i,portalled:o=!0,content:u,contentProps:c,portalRef:d,...m}=e;return i?s:(0,t.jsxs)(r.sb,{...m,children:[(0,t.jsx)(r.k$,{asChild:!0,children:s}),(0,t.jsx)(a.Z,{disabled:!o,container:d,children:(0,t.jsx)(r.ol,{children:(0,t.jsxs)(r.ZI,{ref:n,...c,children:[l&&(0,t.jsx)(r.PR,{children:(0,t.jsx)(r.Mo,{})}),u]})})})]})})},97890:(e,n,l)=>{"use strict";l.d(n,{YH:()=>a,oM:()=>r});var t=l(6297);async function r(){return(await t.g.get("/api/flag")).data}async function a(){try{await t.g.post("/api/relaunch-hint/completed")}catch(e){}}},98572:(e,n,l)=>{"use strict";function t(e,n){if(e<n){let l=(n-e)/e*100;return"+".concat(l>=.1?l.toFixed(1):" <0.1 ","%")}if(!(e>n))return"0 %";{let l=(e-n)/e*100;return"-".concat(l>=.1?l.toFixed(1):" <0.1 ","%")}}l.d(n,{Q:()=>t})},99072:(e,n,l)=>{"use strict";l.d(n,{T:()=>s});var t=l(14836),r=l(97890),a=l(76230);let s=()=>(0,t.I)({queryKey:a.X.flag(),queryFn:r.oM})}}]);